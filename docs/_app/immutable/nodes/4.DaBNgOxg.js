var ja=Object.defineProperty;var Ga=(l,t,a)=>t in l?ja(l,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[t]=a;var se=(l,t,a)=>Ga(l,typeof t!="symbol"?t+"":t,a);import{b as ta,e as Ka,t as F,a as C,d as Be,n as Fe,c as Ct}from"../chunks/BUc1Eud3.js";import"../chunks/DGNyqQ7m.js";import{D as xe,q as Tt,F as _a,g as e,$ as B,I as Va,J as aa,o as lt,s as wt,t as Ue,v as Ja,K as ha,C as Pt,L as Za,z as ga,S as es,ai as ts,a5 as sa,av as $t,E as it,aw as qt,ax as ra,ay as as,y as ss,az as rs,aA as ya,aB as Dt,aC as ns,m as xa,k as ba,B as ls,aD as ka,Q as wa,aE as is,w as os,n as vs,G as cs,aF as ds,aG as ps,aa as us,d as fs,aH as ms,aI as _s,aJ as hs,aK as gs,aL as tt,M as na,N as la,O as ys,a7 as xs,P as bs,p as qe,V as r,X as i,W as s,Y as fe,T as N,a as De,aM as be,a0 as R,a1 as Z,f as It,aN as Mt,ar as oe}from"../chunks/BxrLAxTh.js";import{a as ks,i as U,s as g}from"../chunks/BFP9B275.js";import{a as ws,b as $s,s as O,f as $a,d as Cs,h as Ts,m as ke,p as rt,r as ia,e as oa,g as va,i as As,S as Ps}from"../chunks/CaDaWDNZ.js";import{w as qs,e as ze}from"../chunks/CYycGBYB.js";import{i as Ie}from"../chunks/BfPmg4oS.js";import{p as me,b as Ds}from"../chunks/DBXP9ifw.js";import{o as Ca,a as Is}from"../chunks/BASowPVK.js";import{g as Ms}from"../chunks/xO5qg0mF.js";import{r as ca}from"../chunks/DfpQ_Y4G.js";function Ae(l,t){return t}function Rs(l,t,a,n){for(var v=[],d=t.length,c=0;c<d;c++)as(t[c].e,v,!0);var f=d>0&&v.length===0&&a!==null;if(f){var k=a.parentNode;ss(k),k.append(a),n.clear(),Se(l,t[0].prev,t[d-1].next)}rs(v,()=>{for(var x=0;x<d;x++){var _=t[x];f||(n.delete(_.k),Se(l,_.prev,_.next)),ya(_.e,!f)}})}function Pe(l,t,a,n,v,d=null){var c=l,f={flags:t,items:new Map,first:null},k=(t&ka)!==0;if(k){var x=l;c=xe?lt(ba(x)):x.appendChild(ls())}xe&&Tt();var _=null,E=!1,o=B(()=>{var u=a();return es(u)?u:u==null?[]:ga(u)});_a(()=>{var u=e(o),p=u.length;if(E&&p===0)return;E=p===0;let I=!1;if(xe){var h=c.data===Va;h!==(p===0)&&(c=aa(),lt(c),wt(!1),I=!0)}if(xe){for(var y=null,m,$=0;$<p;$++){if(Ue.nodeType===8&&Ue.data===Ja){c=Ue,I=!0,wt(!1);break}var w=u[$],q=n(w,$);m=Ta(Ue,f,y,null,w,q,$,v,t,a),f.items.set(q,m),y=m}p>0&&lt(aa())}xe||Es(u,f,c,v,t,n,a),d!==null&&(p===0?_?ha(_):_=Pt(()=>d(c)):_!==null&&Za(_,()=>{_=null})),I&&wt(!0),e(o)}),xe&&(c=Ue)}function Es(l,t,a,n,v,d,c){var K,ee,W,V;var f=(v&is)!==0,k=(v&(Dt|qt))!==0,x=l.length,_=t.items,E=t.first,o=E,u,p=null,I,h=[],y=[],m,$,w,q;if(f)for(q=0;q<x;q+=1)m=l[q],$=d(m,q),w=_.get($),w!==void 0&&((K=w.a)==null||K.measure(),(I??(I=new Set)).add(w));for(q=0;q<x;q+=1){if(m=l[q],$=d(m,q),w=_.get($),w===void 0){var H=o?o.e.nodes_start:a;p=Ta(H,t,p,p===null?t.first:p.next,m,$,q,n,v,c),_.set($,p),h=[],y=[],o=p.next;continue}if(k&&Ls(w,m,q,v),(w.e.f&$t)!==0&&(ha(w.e),f&&((ee=w.a)==null||ee.unfix(),(I??(I=new Set)).delete(w))),w!==o){if(u!==void 0&&u.has(w)){if(h.length<y.length){var S=y[0],b;p=S.prev;var P=h[0],L=h[h.length-1];for(b=0;b<h.length;b+=1)da(h[b],S,a);for(b=0;b<y.length;b+=1)u.delete(y[b]);Se(t,P.prev,L.next),Se(t,p,P),Se(t,L,S),o=S,p=L,q-=1,h=[],y=[]}else u.delete(w),da(w,o,a),Se(t,w.prev,w.next),Se(t,w,p===null?t.first:p.next),Se(t,p,w),p=w;continue}for(h=[],y=[];o!==null&&o.k!==$;)(o.e.f&$t)===0&&(u??(u=new Set)).add(o),y.push(o),o=o.next;if(o===null)continue;w=o}h.push(w),p=w,o=w.next}if(o!==null||u!==void 0){for(var z=u===void 0?[]:ga(u);o!==null;)(o.e.f&$t)===0&&z.push(o),o=o.next;var Y=z.length;if(Y>0){var D=(v&ka)!==0&&x===0?a:null;if(f){for(q=0;q<Y;q+=1)(W=z[q].a)==null||W.measure();for(q=0;q<Y;q+=1)(V=z[q].a)==null||V.fix()}Rs(t,z,D,_)}}f&&wa(()=>{var T;if(I!==void 0)for(w of I)(T=w.a)==null||T.apply()}),it.first=t.first&&t.first.e,it.last=p&&p.e}function Ls(l,t,a,n){(n&Dt)!==0&&ra(l.v,t),(n&qt)!==0?ra(l.i,a):l.i=a}function Ta(l,t,a,n,v,d,c,f,k,x){var _=(k&Dt)!==0,E=(k&ns)===0,o=_?E?ts(v):sa(v):v,u=(k&qt)===0?c:sa(c),p={i:u,v:o,k:d,a:null,e:null,prev:a,next:n};try{return p.e=Pt(()=>f(l,o,u,x),xe),p.e.prev=a&&a.e,p.e.next=n&&n.e,a===null?t.first=p:(a.next=p,a.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function da(l,t,a){for(var n=l.next?l.next.e.nodes_start:a,v=t?t.e.nodes_start:a,d=l.e.nodes_start;d!==n;){var c=xa(d);v.before(d),d=c}}function Se(l,t,a){t===null?l.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function we(l,t,a,n,v){var d=l,c="",f;_a(()=>{if(c===(c=t()??"")){xe&&Tt();return}f!==void 0&&(ya(f),f=void 0),c!==""&&(f=Pt(()=>{if(xe){Ue.data;for(var k=Tt(),x=k;k!==null&&(k.nodeType!==8||k.data!=="");)x=k,k=xa(k);if(k===null)throw os(),vs;ta(Ue,x),d=lt(k);return}var _=c+"",E=Ka(_);ta(ba(E),E.lastChild),d.before(E)}))})}function Ss(l,t,a){var n=l==null?"":""+l;return n=n?n+" "+t:t,n===""?null:n}function Fs(l,t,a,n,v,d){var c=l.__className;if(xe||c!==a){var f=Ss(a,n);(!xe||f!==l.getAttribute("class"))&&(f==null?l.removeAttribute("class"):l.className=f),l.__className=a}return d}const Os=()=>performance.now(),Te={tick:l=>requestAnimationFrame(l),now:()=>Os(),tasks:new Set};function Aa(){const l=Te.now();Te.tasks.forEach(t=>{t.c(l)||(Te.tasks.delete(t),t.f())}),Te.tasks.size!==0&&Te.tick(Aa)}function Ns(l){let t;return Te.tasks.size===0&&Te.tick(Aa),{promise:new Promise(a=>{Te.tasks.add(t={c:l,f:a})}),abort(){Te.tasks.delete(t)}}}function nt(l,t){qs(()=>{l.dispatchEvent(new CustomEvent(t))})}function Hs(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const t=l.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function pa(l){const t={},a=l.split(";");for(const n of a){const[v,d]=n.split(":");if(!v||d===void 0)break;const c=Hs(v.trim());t[c]=d.trim()}return t}const Us=l=>l;function ua(l,t,a,n){var v=(l&_s)!==0,d=(l&hs)!==0,c=v&&d,f=(l&ms)!==0,k=c?"both":v?"in":"out",x,_=t.inert,E=t.style.overflow,o,u;function p(){var $=ys,w=it;na(null),la(null);try{return x??(x=a()(t,(n==null?void 0:n())??{},{direction:k}))}finally{na($),la(w)}}var I={is_global:f,in(){var $;if(t.inert=_,!v){u==null||u.abort(),($=u==null?void 0:u.reset)==null||$.call(u);return}d||o==null||o.abort(),nt(t,"introstart"),o=At(t,p(),u,1,()=>{nt(t,"introend"),o==null||o.abort(),o=x=void 0,t.style.overflow=E})},out($){if(!d){$==null||$(),x=void 0;return}t.inert=!0,nt(t,"outrostart"),u=At(t,p(),o,0,()=>{nt(t,"outroend"),$==null||$()})},stop:()=>{o==null||o.abort(),u==null||u.abort()}},h=it;if((h.transitions??(h.transitions=[])).push(I),v&&ks){var y=f;if(!y){for(var m=h.parent;m&&(m.f&cs)!==0;)for(;(m=m.parent)&&(m.f&ds)===0;);y=!m||(m.f&ps)!==0}y&&us(()=>{fs(()=>I.in())})}}function At(l,t,a,n,v){var d=n===1;if(gs(t)){var c,f=!1;return wa(()=>{if(!f){var h=t({direction:d?"in":"out"});c=At(l,h,a,n,v)}}),{abort:()=>{f=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return v(),{abort:tt,deactivate:tt,reset:tt,t:()=>n};const{delay:k=0,css:x,tick:_,easing:E=Us}=t;var o=[];if(d&&a===void 0&&(_&&_(0,1),x)){var u=pa(x(0,1));o.push(u,u)}var p=()=>1-n,I=l.animate(o,{duration:k});return I.onfinish=()=>{var h=(a==null?void 0:a.t())??1-n;a==null||a.abort();var y=n-h,m=t.duration*Math.abs(y),$=[];if(m>0){var w=!1;if(x)for(var q=Math.ceil(m/16.666666666666668),H=0;H<=q;H+=1){var S=h+y*E(H/q),b=pa(x(S,1-S));$.push(b),w||(w=b.overflow==="hidden")}w&&(l.style.overflow="hidden"),p=()=>{var P=I.currentTime;return h+y*E(P/m)},_&&Ns(()=>{if(I.playState!=="running")return!1;var P=p();return _(P,1-P),!0})}I=l.animate($,{duration:m,fill:"forwards"}),I.onfinish=()=>{p=()=>n,_==null||_(n,1-n),v()}},{abort:()=>{I&&(I.cancel(),I.effect=null,I.onfinish=tt)},deactivate:()=>{v=tt},reset:()=>{n===0&&(_==null||_(1,0))},t:()=>p()}}function zs(l,t,a){var n=xs(l,t);n&&n.set&&(l[t]=a,bs(()=>{l[t]=null}))}const Bs=({params:l})=>({handle:l.handle}),kn=Object.freeze(Object.defineProperty({__proto__:null,load:Bs},Symbol.toStringTag,{value:"Module"})),Rt="https://public.api.bsky.app";function Et(l,t){throw console.error(`Error ${t}:`,l),l}function Ws(l){var t,a,n,v;return(a=(t=l.embed)==null?void 0:t.$type)!=null&&a.includes("app.bsky.embed.images")?"image":(v=(n=l.embed)==null?void 0:n.$type)!=null&&v.includes("app.bsky.embed.video")?"video":"text"}function Ys(l){try{let a=new URL(l).hostname.toLowerCase();return a=a.endsWith("/")?a.slice(0,-1):a,a=a.startsWith("www.")?a.slice(4):a,a}catch{return""}}function Qs(l){var n,v;let t="",a="";if(((v=(n=l.record)==null?void 0:n.embed)==null?void 0:v.$type)==="app.bsky.embed.external"&&l.record.embed.external){t=l.record.embed.external.uri||"",a=l.record.embed.external.title||"";const d=Ys(t);return{url:t,title:a,domain:d}}else return null}class Xs{constructor(t){se(this,"uri");se(this,"cid");se(this,"author");se(this,"record");se(this,"embed");se(this,"replyCount");se(this,"repostCount");se(this,"likeCount");se(this,"quoteCount");se(this,"indexedAt");se(this,"labels");se(this,"interactions");se(this,"replyRoot");se(this,"replyParent");se(this,"feedReason");se(this,"thingType");se(this,"thingSubType");se(this,"interactedUser");se(this,"thingCreatedAt");var a,n;Object.assign(this,t.post),this.thingType=this.constructor.getThingType(t),this.thingType==="reply"?(this.replyRoot=t.reply.root,this.replyParent=t.reply.parent,this.interactedUser=this.replyParent.author):this.thingType==="repost"?(this.feedReason=t.reason,this.interactedUser=t.post.author):this.thingType==="quote"&&((n=(a=t.post.embed)==null?void 0:a.$type)!=null&&n.includes("embed.recordWithMedia#view")?(this.thingSubType="quote-with-media",this.interactedUser=this.embed.record.record.author):this.interactedUser=this.embed.record.author),this.thingType==="repost"?this.thingCreatedAt=t.reason.indexedAt:this.thingCreatedAt=this.record.createdAt,this.interactions=(this.likeCount||0)+(this.repostCount||0)+(this.replyCount||0)+(this.quoteCount||0)}get isOriginal(){return this.thingType!=="repost"}get url(){const t=this.uri.split("/"),a=t[t.length-1];return`https://bsky.app/profile/${this.author.handle}/post/${a}`}static getThingType(t){var v,d,c;const a=t.post;let n="repost";return t.reason&&((v=t.reason)!=null&&v.$type.includes("reasonRepost"))?n="repost":t.reply?n="reply":(c=(d=a.embed)==null?void 0:d.$type)!=null&&c.includes("app.bsky.embed.record")?n="quote":n="original",n}}class js{constructor(t){Object.assign(this,t)}get url(){return`https://bsky.app/profile/${this.handle}`}}function Gs(l){return new Promise(t=>setTimeout(t,l))}function Ks(l){return!l.feed||l.feed.length===0?l:{feed:l.feed.map(a=>({post:new Xs(a)})),cursor:l.cursor}}async function Pa(l,t){if(!l)return{feed:[]};try{let a=`${Rt}/xrpc/app.bsky.feed.getAuthorFeed?actor=${l}&limit=100`;t&&(a+=`&cursor=${encodeURIComponent(t)}`);const n=await fetch(a);if(!n.ok)throw new Error(`API request failed with status ${n.status}`);const v=await n.json();return Ks(v)}catch(a){return Et(a,`fetching posts for ${l}`),{feed:[]}}}async function Vs(l,t=1,a){if(!l)return{feed:[]};try{const n=[];let v;for(let d=0;d<t;d++){a&&a(d+1,t,n.length),console.log(`Batch ${d+1} of ${t}: Using cursor: ${d===0?"undefined":v}`),d>0&&await Gs(200);const c=await Pa(l,d===0?void 0:v);if(c.feed&&c.feed.length>0)n.push(...c.feed),console.log(`Retrieved ${c.feed.length} posts, total now: ${n.length}`);else{console.log("No posts in this batch, stopping");break}if(v=c.cursor,console.log(`Next cursor will be: ${v}`),!v){console.log("No cursor returned, stopping");break}}return a&&a(t,t,n.length),{feed:n,cursor:v}}catch(n){return console.error("Error in getBatchUserPosts:",n),Et(n,`fetching batch posts for ${l}`),{feed:[]}}}async function Js(l){if(!l)return null;try{const t=await fetch(`${Rt}/xrpc/app.bsky.actor.getProfile?actor=${l}`);if(!t.ok)throw new Error(`API request failed with status ${t.status}`);const a=await t.json();return new js(a)}catch(t){Et(t,`fetching profile for ${l}`)}}var Zs=F('<img class="profile-avatar svelte-1wqd2fx">'),er=F('<p class="profile-bio svelte-1wqd2fx"> </p>'),tr=F('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Followers</span></div>'),ar=F('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Following</span></div>'),sr=F('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Posts</span></div>'),rr=F('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Posts/Day</span></div>'),nr=F('<p class="profile-indexed svelte-1wqd2fx"> </p>'),lr=F('<section class="profile-card section svelte-1wqd2fx"><div class="profile-header svelte-1wqd2fx"><!> <div class="profile-info svelte-1wqd2fx"><h2 class="profile-name svelte-1wqd2fx"> </h2> <p class="profile-handle svelte-1wqd2fx"><a> </a></p></div></div> <!> <div class="profile-stats svelte-1wqd2fx"><div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Account Age</span></div> <!> <!> <!> <!></div> <div class="profile-meta svelte-1wqd2fx"><p class="profile-did svelte-1wqd2fx"> </p> <!></div></section>');function ir(l,t){var V;qe(t,!1);let a=me(t,"profile",8,null),n=(V=a())!=null&&V.createdAt?ws(a().createdAt):null;Ie();var v=lr(),d=r(v),c=r(d);{var f=T=>{var M=Zs();N(()=>{O(M,"src",a().avatar),O(M,"alt",a().displayName||a().handle)}),C(T,M)};U(c,T=>{a().avatar&&T(f)})}var k=i(c,2),x=r(k),_=r(x,!0);s(x);var E=i(x,2),o=r(E),u=r(o);s(o),s(E),s(k),s(d);var p=i(d,2);{var I=T=>{var M=er(),A=r(M,!0);s(M),N(()=>g(A,a().description)),C(T,M)};U(p,T=>{a().description&&T(I)})}var h=i(p,2),y=r(h),m=r(y),$=r(m,!0);s(m),fe(2),s(y);var w=i(y,2);{var q=T=>{var M=tr(),A=r(M),X=r(A,!0);s(A),fe(2),s(M),N(G=>g(X,G),[()=>a().followersCount.toLocaleString()],B),C(T,M)};U(w,T=>{a().followersCount!==void 0&&T(q)})}var H=i(w,2);{var S=T=>{var M=ar(),A=r(M),X=r(A,!0);s(A),fe(2),s(M),N(G=>g(X,G),[()=>a().followsCount.toLocaleString()],B),C(T,M)};U(H,T=>{a().followsCount!==void 0&&T(S)})}var b=i(H,2);{var P=T=>{var M=sr(),A=r(M),X=r(A,!0);s(A),fe(2),s(M),N(G=>g(X,G),[()=>a().postsCount.toLocaleString()],B),C(T,M)};U(b,T=>{a().postsCount!==void 0&&T(P)})}var L=i(b,2);{var z=T=>{var M=rr(),A=r(M),X=r(A,!0);s(A),fe(2),s(M),N(G=>g(X,G),[()=>Math.round(a().postsCount/n,1).toLocaleString()],B),C(T,M)};U(L,T=>{a().postsCount!==void 0&&T(z)})}s(h);var Y=i(h,2),D=r(Y),K=r(D);s(D);var ee=i(D,2);{var W=T=>{var M=nr(),A=r(M);s(M),N(X=>g(A,`Created at: ${X??""}`),[()=>$a(a().createdAt)],B),C(T,M)};U(ee,T=>{a().createdAt&&T(W)})}s(Y),s(v),N(T=>{g(_,a().displayName||a().handle),O(o,"href",a().url),g(u,`@${a().handle??""}`),g($,T),g(K,`DID: ${a().did??""}`)},[()=>$s(n)],B),C(l,v),De()}function or(l){const t=new Map;l.forEach(n=>{const v=Qs(n.post);if(v&&v.domain){const d=t.get(v.domain)||0;t.set(v.domain,d+1)}});const a=Array.from(t.entries()).map(([n,v])=>({domain:n,count:v}));return a.sort((n,v)=>v.count-n.count),a}function vr(l){const t=new Map;l.forEach(n=>{const v=n.post.interactedUser;if(v&&v.handle){const d=t.get(v.handle)||0;t.set(v.handle,d+1)}});const a=Array.from(t.entries()).map(([n,v])=>({handle:n,count:v}));return a.sort((n,v)=>v.count-n.count),a}function cr(l){if(!l.length)return null;const t=l.filter(D=>D.post.isOriginal),a=l.filter(D=>D.post.thingType=="repost"),n=t.filter(D=>!["quote","reply"].includes(D.post.thingType)),v=t.filter(D=>D.post.thingType==="reply"),d=or(l),c=vr(l);if(t.length===0)return{totalPosts:l.length,originalPostCount:0,postsPerDay:0,repostsPerDay:0,repliesPerDay:0,postsInLast12Hours:0,postsInLast24Hours:0,postsInLast4Hours:0,postTypes:{reply:0,images:0,video:0,quote:0,post:0,repost:l.length},postMediaTypes:{},engagement:{replies:{total:0,average:0},likes:{total:0,average:0},reposts:{total:0,average:0},quotes:{total:0,average:0}},dateRange:{earliest:new Date,latest:new Date,timespan:"0 seconds"},media:{totalImages:0,imagesWithAlt:0,altTextPercentage:0},linkedDomains:{},interactedUsers:{},timezone:""};const f=l.map(D=>new Date(D.post.thingCreatedAt).getTime()),k=new Date(Math.min(...f)),x=new Date(Math.max(...f)),_=x.getTime()-k.getTime(),E=60*60*1e3,o=_/(E*24),u=new Date(Date.now()-24*E),p=new Date(Date.now()-12*E),I=new Date(Date.now()-4*E),h=t.filter(D=>new Date(D.post.record.createdAt)>=u).length,y=t.filter(D=>new Date(D.post.record.createdAt)>=p).length,m=t.filter(D=>new Date(D.post.record.createdAt)>=I).length,$={reply:0,quote:0,post:0,repost:0},w={image:0,video:0,text:0};let q=0,H=0,S=0,b=0,P=0,L=0;l.forEach(D=>{var ee;$[D.post.thingType]++;const K=Ws(D.post);if(D.post.isOriginal&&w[K]++,D.post.isOriginal&&(q+=D.post.replyCount||0,H+=D.post.likeCount||0,S+=D.post.repostCount||0,b+=D.post.quoteCount||0),D.post.isOriginal&&((ee=D.post.embed)!=null&&ee.images)){const W=D.post.embed.images;P+=W.length,W.forEach(V=>{V.alt&&V.alt.trim().length>5&&L++})}});const z=Intl.DateTimeFormat().resolvedOptions().timeZone,Y=P>0?Math.round(L/P*100):0;return{totalPosts:l.length,originalPostCount:t.length,regularPostCount:n.length,postsPerDay:+(t.length/o).toFixed(1),repostsPerDay:+(a.length/o).toFixed(1),repliesPerDay:+(v.length/o).toFixed(1),postsInLast12Hours:y,postsInLast24Hours:h,postsInLast4Hours:m,postTypes:$,postMediaTypes:w,engagement:{replies:{total:q,average:+(q/t.length).toFixed(1)},likes:{total:H,average:+(H/t.length).toFixed(1)},reposts:{total:S,average:+(S/t.length).toFixed(1)},quotes:{total:b,average:+(b/t.length).toFixed(1)}},dateRange:{earliest:k,latest:x,timespan:Cs(k,x)},media:{totalImages:P,imagesWithAlt:L,altTextPercentage:Y},linkedDomains:d,interactedUsers:c,timezone:z}}var dr=Fe('<rect rx="2"></rect>'),pr=Fe('<rect rx="2"></rect>'),ur=Fe('<text text-anchor="middle" font-size="20" fill="#93c5fd"> </text>'),fr=Fe('<text text-anchor="middle" font-size="20" fill="#6b7280">0</text>'),mr=Fe('<!><!><!><text text-anchor="middle" font-size="18" fill="#9ca3af" font-family="monospace"> </text>',1),_r=F('<div class="svg-chart-container svelte-va6fe6"><svg class="hour-chart svelte-va6fe6" viewBox="0 0 900 500" preserveAspectRatio="xMidYMid meet"><rect x="50" y="10" width="14" height="14" rx="2"></rect><text x="70" y="22" font-size="20" fill="#9ca3af">Weekdays</text><rect x="190" y="10" width="14" height="14" rx="2"></rect><text x="210" y="22" font-size="20" fill="#9ca3af">Weekends</text> x <line x1="40" y1="10" x2="40" y2="450" stroke="#666" stroke-width="1"></line><line x1="40" y1="450" x2="870" y2="450" stroke="#666" stroke-width="1"></line><!></svg></div>'),hr=F('<p class="no-data svelte-va6fe6">No posting time data available</p>'),gr=F('<div class="card svelte-va6fe6"><!></div>');function yr(l,t){qe(t,!1);const a=Z(),n=Z(),v=Z(),d=Z(),c=Z();let f=me(t,"posts",24,()=>[]);const k="#3b82f6",x="#8b5cf6";function _(I){const h=Array(24).fill(0),y=Array(24).fill(0),m=Array(24).fill(0);I.forEach(w=>{const q=new Date(w.post.indexedAt),H=q.getHours(),S=H-H%2,b=q.getDay();h[S]++,b===0||b===6?m[S]++:y[S]++});const $=Math.max(...h);return{hourCounts:h,weekdayCounts:y,weekendCounts:m,maxCount:$}}be(()=>It(f()),()=>{R(a,_(f()))}),be(()=>e(a),()=>{R(n,e(a).hourCounts)}),be(()=>e(a),()=>{R(v,e(a).weekdayCounts)}),be(()=>e(a),()=>{R(d,e(a).weekendCounts)}),be(()=>e(a),()=>{R(c,e(a).maxCount)}),Mt(),Ie();var E=gr(),o=r(E);{var u=I=>{var h=_r(),y=r(h),m=r(y);O(m,"fill",k);var $=i(m,2);O($,"fill",x);var w=i($,5);Pe(w,1,()=>e(n),Ae,(q,H,S)=>{var b=Be(),P=oe(b);{var L=z=>{var Y=mr();const D=B(()=>40),K=B(()=>450),ee=B(()=>e(K)-70),W=B(()=>e(v)[S]),V=B(()=>e(d)[S]),T=B(()=>e(W)>0?Math.max(4,e(W)/e(c)*e(ee)):0),M=B(()=>e(V)>0?Math.max(4,e(V)/e(c)*e(ee)):0),A=B(()=>50+S*34),X=B(()=>e(K)-e(T)),G=B(()=>e(X)-e(M)),j=B(()=>S===0?"12":S<12?`${S}`:S===12?"12":`${S-12}`),Q=B(()=>S+1),te=B(()=>e(Q)===0?"12am":e(Q)<12?`${e(Q)}am`:e(Q)===12?"12pm":`${e(Q)-12}pm`),re=B(()=>`${e(j)}-${e(te)}`);var ne=oe(Y);{var Me=ae=>{var J=dr();O(J,"fill",k),N(()=>{O(J,"x",e(A)),O(J,"y",e(X)),O(J,"width",e(D)),O(J,"height",e(T))}),C(ae,J)};U(ne,ae=>{e(W)>0&&ae(Me)})}var ve=i(ne);{var _e=ae=>{var J=pr();O(J,"fill",x),N(()=>{O(J,"x",e(A)),O(J,"y",e(G)),O(J,"width",e(D)),O(J,"height",e(M))}),C(ae,J)};U(ve,ae=>{e(V)>0&&ae(_e)})}var he=i(ve);{var $e=ae=>{var J=ur(),Ye=r(J,!0);s(J),N(Le=>{O(J,"x",e(A)+e(D)/2),O(J,"y",Le),g(Ye,e(H))},[()=>Math.min(e(X),e(G))-5],B),C(ae,J)},We=ae=>{var J=fr();N(()=>{O(J,"x",e(A)+e(D)/2),O(J,"y",e(K)-10)}),C(ae,J)};U(he,ae=>{e(H)>0?ae($e):ae(We,!1)})}var Re=i(he),Ee=r(Re,!0);s(Re),N(()=>{O(Re,"x",e(A)+e(D)/2),O(Re,"y",e(K)+20),g(Ee,e(re))}),C(z,Y)};U(P,z=>{S%2==0&&z(L)})}C(q,b)}),s(y),s(h),C(I,h)},p=I=>{var h=hr();C(I,h)};U(o,I=>{e(c)>0?I(u):I(p,!1)})}s(E),C(l,E),De()}var xr=Fe('<rect width="18" rx="3"></rect><text text-anchor="middle" font-size="11" fill="#93c5fd" font-family="system-ui"> </text><text text-anchor="middle" font-size="11" fill="#93c5fd" font-family="system-ui"> </text>',1),br=Fe('<text y="230" text-anchor="middle" font-size="11" fill="#6b7280">0</text>'),kr=Fe('<text y="260" text-anchor="middle" font-size="12" fill="#9ca3af" font-family="system-ui"> </text><!>',1),wr=F('<div class="svg-chart-container svelte-bhan6a"><svg class="weekday-chart svelte-bhan6a" viewBox="0 0 300 260" preserveAspectRatio="xMidYMid meet"><line x1="20" y1="10" x2="20" y2="240" stroke="#666" stroke-width="1"></line><line x1="20" y1="240" x2="250" y2="240" stroke="#666" stroke-width="1"></line><!></svg></div>'),$r=F('<p class="no-data svelte-bhan6a">No posting day data available</p>'),Cr=F('<div class="card svelte-bhan6a"><!></div>');function Tr(l,t){qe(t,!1);const a=Z(),n=Z(),v=Z(),d=Z();let c=me(t,"posts",24,()=>[]);const f=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],k="#3b82f6",x="#8b5cf6";function _(h){const y=Array(7).fill(0);let m=0;h.forEach(w=>{const S=(new Date(w.post.indexedAt).getDay()+6)%7;y[S]++,m++});const $=Math.max(...y);return{dayCounts:y,maxCount:$,totalCount:m}}function E(h){return h===5||h===6}be(()=>It(c()),()=>{R(a,_(c()))}),be(()=>e(a),()=>{R(n,e(a).dayCounts)}),be(()=>e(a),()=>{R(v,e(a).maxCount)}),be(()=>e(a),()=>{R(d,e(a).totalCount)}),Mt(),Ie();var o=Cr(),u=r(o);{var p=h=>{var y=wr(),m=r(y),$=i(r(m),2);Pe($,1,()=>e(n),Ae,(w,q,H)=>{var S=kr();const b=B(()=>e(q)>0?Math.max(4,e(q)/e(v)*140):0),P=B(()=>35+H*30),L=B(()=>240-e(b)),z=B(()=>e(d)>0?Math.round(e(q)/e(d)*100):0),Y=B(()=>E(H)?x:k);var D=oe(S),K=r(D,!0);s(D);var ee=i(D);{var W=T=>{var M=xr(),A=oe(M),X=i(A),G=r(X);s(X);var j=i(X),Q=r(j,!0);s(j),N(()=>{O(A,"x",e(P)),O(A,"y",e(L)),O(A,"height",e(b)),O(A,"fill",e(Y)),O(X,"x",e(P)+9),O(X,"y",e(L)-8),g(G,`${e(z)??""}%`),O(j,"x",e(P)+9),O(j,"y",e(L)-20),g(Q,e(q))}),C(T,M)},V=T=>{var M=br();N(()=>O(M,"x",e(P)+9)),C(T,M)};U(ee,T=>{e(q)>0?T(W):T(V,!1)})}N(()=>{O(D,"x",e(P)+9),g(K,f[H])}),C(w,S)}),s(m),s(y),C(h,y)},I=h=>{var y=$r();C(h,y)};U(u,h=>{e(v)>0?h(p):h(I,!1)})}s(o),C(l,o),De()}var Ar=F('<li class="svelte-3mpmrv"> <a class="interacted-user svelte-3mpmrv" target="_blank"> </a></li>'),Pr=F('<li class="show-more svelte-3mpmrv"><button class="show-more-btn svelte-3mpmrv"> </button></li>'),qr=F("<!> <!>",1),Dr=F('<li class="no-domains svelte-3mpmrv">No interacted users found</li>'),Ir=F('<li class="svelte-3mpmrv"> <a class="domain-linked svelte-3mpmrv" target="_blank"> </a></li>'),Mr=F('<li class="show-more svelte-3mpmrv"><button class="show-more-btn svelte-3mpmrv"> </button></li>'),Rr=F("<!> <!>",1),Er=F('<li class="no-domains svelte-3mpmrv">No linked domains found</li>'),Lr=F(`<section class="analytics-card section"><h2 class="section-title">Analytics</h2> <div class="deck svelte-3mpmrv">Over the past <span class="highlight svelte-3mpmrv"> </span>, <a class="interacted-user svelte-3mpmrv"> </a> made <span class="highlight svelte-3mpmrv"> </span> </div> <div class="note svelte-3mpmrv">Date/timestamps are based on the web browser's timezone: <code class="highlight svelte-3mpmrv"> </code></div> <div class="analytics-section svelte-3mpmrv"><div class="charts-container svelte-3mpmrv"><div class="chart-wrapper weekday-chart svelte-3mpmrv"><!></div> <div class="chart-wrapper hourly-chart svelte-3mpmrv"><!></div></div></div> <div class="analytics-grid svelte-3mpmrv"><div class="analytics-section svelte-3mpmrv"><h4 class="analytics-section-title svelte-3mpmrv">Recent Posting Activity</h4> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Latest post:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Posts in past 4 hours:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Posts in past 12 hours:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Posts in past 24 hours:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Recent posts/day rate:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Recent replies/day rate:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Recent reposts/day rate:</span> <span class="analytics-value svelte-3mpmrv"> </span></div></div> <div class="analytics-section svelte-3mpmrv"><h4 class="analytics-section-title svelte-3mpmrv">Engagement</h4> <h5 class="analytics-section-subtitle svelte-3mpmrv">Total for Recent Posts</h5> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Likes:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Reposts:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Replies:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Quotes:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-subsection svelte-3mpmrv"><h5 class="analytics-section-subtitle svelte-3mpmrv">Average Per Recent Post</h5> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Likes per post:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Reposts per post:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Replies per post:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Quotes per post:</span> <span class="analytics-value svelte-3mpmrv"> </span></div></div></div> <div class="analytics-section svelte-3mpmrv"><h4 class="analytics-section-title svelte-3mpmrv">Post Types</h4> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Regular Posts:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Quotes:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Replies:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Reposts:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-subsection svelte-3mpmrv"><h5 class="analytics-section-subtitle svelte-3mpmrv">Media</h5> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Text only:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">With video:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">With images:</span> <span class="analytics-value svelte-3mpmrv"> </span></div> <div class="analytics-stat svelte-3mpmrv"><span class="analytics-label svelte-3mpmrv">Images w/ ALT text:</span> <span class="analytics-value svelte-3mpmrv"> </span></div></div></div> <div class="analytics-section linking-activity list-section svelte-3mpmrv"><h4 class="analytics-section-title svelte-3mpmrv">Users Interacted</h4> <ul class="domains-list svelte-3mpmrv"><!></ul></div> <div class="analytics-section users-interacted list-section svelte-3mpmrv"><h4 class="analytics-section-title svelte-3mpmrv">Domains Linked</h4> <ul class="domains-list svelte-3mpmrv"><!></ul></div></div></section>`);function Sr(l,t){qe(t,!1);let a=me(t,"posts",24,()=>[]),n=me(t,"profile",8,null),v=Z(!1),d=Z(!1);const c=10;Ie();var f=Be(),k=oe(f);{var x=_=>{var E=Be();const o=B(()=>cr(a()));var u=oe(E);{var p=I=>{var h=Lr(),y=i(r(h),2),m=i(r(y)),$=r(m,!0);s(m);var w=i(m,2),q=r(w);s(w);var H=i(w,2),S=r(H);s(H);var b=i(H);s(y);var P=i(y,2),L=i(r(P)),z=r(L,!0);s(L),s(P);var Y=i(P,2),D=r(Y),K=r(D),ee=r(K);Tr(ee,{get posts(){return a()}}),s(K);var W=i(K,2),V=r(W);yr(V,{get posts(){return a()}}),s(W),s(D),s(Y);var T=i(Y,2),M=r(T),A=i(r(M),2),X=i(r(A),2),G=r(X,!0);s(X),s(A);var j=i(A,2),Q=i(r(j),2),te=r(Q,!0);s(Q),s(j);var re=i(j,2),ne=i(r(re),2),Me=r(ne,!0);s(ne),s(re);var ve=i(re,2),_e=i(r(ve),2),he=r(_e,!0);s(_e),s(ve);var $e=i(ve,2),We=i(r($e),2),Re=r(We,!0);s(We),s($e);var Ee=i($e,2),ae=i(r(Ee),2),J=r(ae,!0);s(ae),s(Ee);var Ye=i(Ee,2),Le=i(r(Ye),2),at=r(Le,!0);s(Le),s(Ye),s(M);var je=i(M,2),Oe=i(r(je),4),Ge=i(r(Oe),2),ot=r(Ge,!0);s(Ge),s(Oe);var Ne=i(Oe,2),Ke=i(r(Ne),2),vt=r(Ke,!0);s(Ke),s(Ne);var Qe=i(Ne,2),Ve=i(r(Qe),2),ct=r(Ve,!0);s(Ve),s(Qe);var pe=i(Qe,2),de=i(r(pe),2),Xe=r(de,!0);s(de),s(pe);var st=i(pe,2),dt=i(r(st),2),Lt=i(r(dt),2),qa=r(Lt,!0);s(Lt),s(dt);var pt=i(dt,2),St=i(r(pt),2),Da=r(St,!0);s(St),s(pt);var ut=i(pt,2),Ft=i(r(ut),2),Ia=r(Ft,!0);s(Ft),s(ut);var Ot=i(ut,2),Nt=i(r(Ot),2),Ma=r(Nt,!0);s(Nt),s(Ot),s(st),s(je);var ft=i(je,2),mt=i(r(ft),2),Ht=i(r(mt),2),Ra=r(Ht);s(Ht),s(mt);var _t=i(mt,2),Ut=i(r(_t),2),Ea=r(Ut);s(Ut),s(_t);var ht=i(_t,2),zt=i(r(ht),2),La=r(zt);s(zt),s(ht);var gt=i(ht,2),Bt=i(r(gt),2),Sa=r(Bt);s(Bt),s(gt);var Wt=i(gt,2),yt=i(r(Wt),2),Yt=i(r(yt),2),Fa=r(Yt);s(Yt),s(yt);var xt=i(yt,2),Qt=i(r(xt),2),Oa=r(Qt);s(Qt),s(xt);var bt=i(xt,2),Xt=i(r(bt),2),Na=r(Xt);s(Xt),s(bt);var jt=i(bt,2),Gt=i(r(jt),2),Ha=r(Gt);s(Gt),s(jt),s(Wt),s(ft);var kt=i(ft,2),Kt=i(r(kt),2),Ua=r(Kt);{var za=ce=>{var ge=qr(),He=oe(ge);Pe(He,1,()=>e(d)?e(o).interactedUsers:e(o).interactedUsers.slice(0,c),Ae,(ue,le)=>{var ie=Ar(),ye=r(ie),Ce=i(ye),et=r(Ce);s(Ce),s(ie),N(()=>{g(ye,`${e(le).count??""}: `),O(Ce,"href",`https://bsky.app/profile/${e(le).handle??""}`),g(et,`@${e(le).handle??""}`)}),C(ue,ie)});var Je=i(He,2);{var Ze=ue=>{var le=Pr(),ie=r(le),ye=r(ie,!0);s(ie),s(le),N(()=>g(ye,e(d)?"Show fewer":`Show all (${e(o).interactedUsers.length})`)),ze("click",ie,()=>R(d,!e(d))),C(ue,le)};U(Je,ue=>{e(o).interactedUsers.length>c&&ue(Ze)})}C(ce,ge)},Ba=ce=>{var ge=Dr();C(ce,ge)};U(Ua,ce=>{e(o).interactedUsers.length>0?ce(za):ce(Ba,!1)})}s(Kt),s(kt);var Vt=i(kt,2),Jt=i(r(Vt),2),Wa=r(Jt);{var Ya=ce=>{var ge=Rr(),He=oe(ge);Pe(He,1,()=>e(v)?e(o).linkedDomains:e(o).linkedDomains.slice(0,c),Ae,(ue,le)=>{var ie=Ir(),ye=r(ie),Ce=i(ye),et=r(Ce,!0);s(Ce),s(ie),N(()=>{g(ye,`${e(le).count??""}: `),O(Ce,"href",`https://${e(le).domain??""}`),g(et,e(le).domain)}),C(ue,ie)});var Je=i(He,2);{var Ze=ue=>{var le=Mr(),ie=r(le),ye=r(ie,!0);s(ie),s(le),N(()=>g(ye,e(v)?`Show less (${c} of ${e(o).linkedDomains.length})`:`Show all (${e(o).linkedDomains.length})`)),ze("click",ie,()=>R(v,!e(v))),C(ue,le)};U(Je,ue=>{e(o).linkedDomains.length>c&&ue(Ze)})}C(ce,ge)},Qa=ce=>{var ge=Er();C(ce,ge)};U(Wa,ce=>{e(o).linkedDomains.length>0?ce(Ya):ce(Qa,!1)})}s(Jt),s(Vt),s(T),s(h),N((ce,ge,He,Je,Ze,ue,le,ie,ye,Ce,et,Xa)=>{var Zt,ea;g($,e(o).dateRange.timespan),O(w,"href",`https://bsky.app/profile/${((Zt=n())==null?void 0:Zt.handle)??""}`),g(q,`@${((ea=n())==null?void 0:ea.handle)??""}`),g(S,`${e(o).totalPosts??""} posts`),g(b,` (${e(o).originalPostCount??""} original,
				${e(o).totalPosts-e(o).originalPostCount} reposts).`),g(z,e(o).timezone),g(G,ce),g(te,e(o).postsInLast4Hours),g(Me,e(o).postsInLast12Hours),g(he,e(o).postsInLast24Hours),g(Re,e(o).postsPerDay),g(J,e(o).repliesPerDay),g(at,e(o).repostsPerDay),g(ot,ge),g(vt,He),g(ct,Je),g(Xe,Ze),g(qa,e(o).engagement.likes.average),g(Da,e(o).engagement.reposts.average),g(Ia,e(o).engagement.replies.average),g(Ma,e(o).engagement.quotes.average),g(Ra,`${e(o).regularPostCount??""} (${ue??""}%)`),g(Ea,`${e(o).postTypes.quote??""} (${le??""}%)`),g(La,`${e(o).postTypes.reply??""} (${ie??""}%)`),g(Sa,`${e(o).postTypes.repost??""} (${ye??""}%)`),g(Fa,`${e(o).postMediaTypes.text??""} (${Ce??""}%)`),g(Oa,`${e(o).postMediaTypes.video??""} (${et??""}%)`),g(Na,`${e(o).postMediaTypes.image??""} (${Xa??""}%)`),g(Ha,`${e(o).media.imagesWithAlt??""} of
								${e(o).media.totalImages??""} (${e(o).media.altTextPercentage??""}%)`)},[()=>Ts(e(o).dateRange.latest),()=>e(o).engagement.likes.total.toLocaleString(),()=>e(o).engagement.reposts.total.toLocaleString(),()=>e(o).engagement.replies.total.toLocaleString(),()=>e(o).engagement.quotes.total.toLocaleString(),()=>Math.round(e(o).regularPostCount/e(o).totalPosts*100),()=>Math.round(e(o).postTypes.quote/e(o).totalPosts*100),()=>Math.round(e(o).postTypes.reply/e(o).totalPosts*100),()=>Math.round(e(o).postTypes.repost/e(o).totalPosts*100),()=>Math.round(e(o).postMediaTypes.text/e(o).originalPostCount*100),()=>(e(o).postMediaTypes.video/e(o).originalPostCount*100).toFixed(1),()=>(e(o).postMediaTypes.image/e(o).originalPostCount*100).toFixed(1)],B),C(I,h)};U(u,I=>{e(o)&&I(p)})}C(_,E)};U(k,_=>{a().length>0&&_(x)})}C(l,f),De()}var Fr=F('<img class="post-image svelte-foqfh0">'),Or=F('<div class="post-images svelte-foqfh0"></div>'),Nr=F('<img class="post-image svelte-foqfh0">'),Hr=F('<div class="post-images svelte-foqfh0"></div>'),Ur=F('<div class="post-card svelte-foqfh0"><div class="post-content-wrapper svelte-foqfh0"><div class="post-metadata svelte-foqfh0"><div class="post-header svelte-foqfh0"><div class="post-header-left svelte-foqfh0"><a target="_blank" class="post-date"> </a> <div class="post-metrics svelte-foqfh0"><div class="metric-group svelte-foqfh0"><div class="metric svelte-foqfh0" title="Likes"><!> <span class="metric-value svelte-foqfh0"> </span></div> <div class="metric svelte-foqfh0" title="Reposts"><!> <span class="metric-value svelte-foqfh0"> </span></div> <div class="metric svelte-foqfh0" title="Replies"><!> <span class="metric-value svelte-foqfh0"> </span></div> <div class="metric svelte-foqfh0" title="Quotes"><!> <span class="metric-value svelte-foqfh0"> </span></div></div> <div class="total-engagement svelte-foqfh0" title="Total Interactions"><span class="total-value svelte-foqfh0"><!> </span> <span class="total-label">interactions</span></div></div></div></div> <div class="post-content svelte-foqfh0"> </div></div> <!> <!></div></div>');function zr(l,t){qe(t,!1);let a=me(t,"post",8);Ie();var n=Ur(),v=r(n),d=r(v),c=r(d),f=r(c),k=r(f),x=r(k,!0);s(k);var _=i(k,2),E=r(_),o=r(E),u=r(o);we(u,()=>ke("like"));var p=i(u,2),I=r(p,!0);s(p),s(o);var h=i(o,2),y=r(h);we(y,()=>ke("repost"));var m=i(y,2),$=r(m,!0);s(m),s(h);var w=i(h,2),q=r(w);we(q,()=>ke("reply"));var H=i(q,2),S=r(H,!0);s(H),s(w);var b=i(w,2),P=r(b);we(P,()=>ke("quote"));var L=i(P,2),z=r(L,!0);s(L),s(b),s(E);var Y=i(E,2),D=r(Y),K=r(D);we(K,()=>ke("interaction"));var ee=i(K);s(D),fe(2),s(Y),s(_),s(f),s(c);var W=i(c,2),V=r(W,!0);s(W),s(d);var T=i(d,2);{var M=G=>{var j=Or();Pe(j,5,()=>a().embed.images,Ae,(Q,te,re)=>{var ne=Fr();N(()=>{O(ne,"src",e(te).fullsize),O(ne,"alt",e(te).alt||`Image ${re+1}`)}),C(Q,ne)}),s(j),C(G,j)};U(T,G=>{var j;(j=a().embed)!=null&&j.images&&a().embed.images.length>0&&G(M)})}var A=i(T,2);{var X=G=>{var j=Hr();Pe(j,5,()=>a().embed.media.images,Ae,(Q,te,re)=>{var ne=Nr();N(()=>{O(ne,"src",e(te).fullsize),O(ne,"alt",e(te).alt||`Image ${re+1}`)}),C(Q,ne)}),s(j),C(G,j)};U(A,G=>{var j,Q;(Q=(j=a().embed)==null?void 0:j.media)!=null&&Q.images&&a().embed.media.images.length>0&&G(X)})}s(v),s(n),N((G,j,Q,te,re)=>{O(k,"href",a().url),g(x,G),g(I,j),g($,Q),g(S,te),g(z,re),g(ee,` ${a().interactions??""}`),g(V,a().record.text)},[()=>$a(a().record.createdAt),()=>rt(a().likeCount||0),()=>rt(a().repostCount||0),()=>rt(a().replyCount||0),()=>rt(a().quoteCount||0)],B),C(l,n),De()}var Br=F('<section class="best-posts section svelte-1ck3a07"><h2 class="section-title">Most Engaging Posts</h2> <div class="deck svelte-1ck3a07"> </div> <div class="newspaper-grid svelte-1ck3a07"></div></section>');function Wr(l,t){qe(t,!1);let a=me(t,"posts",24,()=>[]);function n(f){if(!f||f.length===0)return[];const k=f.filter(x=>x.post.thingType!=="repost");return k.length===0?[]:(k.sort((x,_)=>_.post.interactions-x.post.interactions),k.slice(0,5).map(x=>x.post))}Ie();var v=Be(),d=oe(v);{var c=f=>{var k=Be();const x=B(()=>n(a()));var _=oe(k);{var E=o=>{var u=Br(),p=i(r(u),2),I=r(p);s(p);var h=i(p,2);Pe(h,5,()=>e(x),Ae,(y,m)=>{zr(y,{get post(){return e(m)}})}),s(h),s(u),N(()=>g(I,`The ${e(x).length??""} most engaged posts among the most recent ${a().length??""} posts.`)),C(o,u)};U(_,o=>{e(x).length>0&&o(E)})}C(f,k)};U(d,f=>{a().length>0&&f(c)})}return C(l,v),zs(t,"getTopEngagementPosts",n),De({getTopEngagementPosts:n})}function Yr(l){const t=l-1;return t*t*t+1}function fa(l,{delay:t=0,duration:a=400,easing:n=Yr,axis:v="y"}={}){const d=getComputedStyle(l),c=+d.opacity,f=v==="y"?"height":"width",k=parseFloat(d[f]),x=v==="y"?["top","bottom"]:["left","right"],_=x.map(y=>`${y[0].toUpperCase()}${y.slice(1)}`),E=parseFloat(d[`padding${_[0]}`]),o=parseFloat(d[`padding${_[1]}`]),u=parseFloat(d[`margin${_[0]}`]),p=parseFloat(d[`margin${_[1]}`]),I=parseFloat(d[`border${_[0]}Width`]),h=parseFloat(d[`border${_[1]}Width`]);return{delay:t,duration:a,easing:n,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*c};${f}: ${y*k}px;padding-${x[0]}: ${y*E}px;padding-${x[1]}: ${y*o}px;margin-${x[0]}: ${y*u}px;margin-${x[1]}: ${y*p}px;border-${x[0]}-width: ${y*I}px;border-${x[1]}-width: ${y*h}px;min-${f}: 0`}}var Qr=F('<label class="dropdown-item svelte-13yvdvk"><input type="checkbox"> </label>'),Xr=F("<!>&nbsp;",1),jr=F('<label class="dropdown-item svelte-13yvdvk"><input name="dropdown"> <!> <!></label>'),Gr=F('<div class="dropdown-menu svelte-13yvdvk"><!> <!></div>'),Kr=F('<div class="dropdown svelte-13yvdvk"><button type="button" class="dropdown-toggle svelte-13yvdvk"> </button> <!></div>');function ma(l,t){qe(t,!1);let a=me(t,"options",24,()=>[]),n=me(t,"selected",28,()=>["all"]),v=me(t,"buttonText",8,"Filter Post Type"),d=me(t,"isMultiSelect",8,!1),c=Z(!1),f=Z();const k={value:"all",label:"All",count:a().reduce((m,$)=>m+($.count||0),0)};function x(m){d()?m==="all"?n(["all"]):Array.isArray(n())?(n(n().filter($=>$!=="all")),n().includes(m)?n(n().filter($=>$!==m)):n([...n(),m])):n([m]):(n(m),R(c,!1)),e(f).dispatchEvent(new CustomEvent("change",{detail:n()}))}function _(){R(c,!e(c))}function E(){R(c,!1)}function o(m){e(f).contains(m.target)||E()}Ca(()=>{document.addEventListener("click",o)}),Is(()=>{document.removeEventListener("click",o)}),Ie();var u=Kr(),p=r(u),I=r(p,!0);s(p);var h=i(p,2);{var y=m=>{var $=Gr(),w=r($);{var q=S=>{var b=Qr(),P=r(b);ia(P);var L=i(P);s(b),N(z=>{oa(P,k.value),va(P,z),g(L,` ${k.label} (${k.count??""})`)},[()=>Array.isArray(n())&&n().includes(k.value)],B),ze("change",P,()=>x(k.value)),C(S,b)};U(w,S=>{d()&&S(q)})}var H=i(w,2);Pe(H,1,a,Ae,(S,b)=>{var P=jr(),L=r(P);ia(L);var z=i(L,2);{var Y=W=>{var V=Xr(),T=oe(V);we(T,()=>ke(e(b).icon)),fe(),C(W,V)};U(z,W=>{e(b).icon&&W(Y)})}var D=i(z,1,!0),K=i(D);{var ee=W=>{var V=Ct();N(()=>g(V,` (${e(b).count??""})`)),C(W,V)};U(K,W=>{d()&&W(ee)})}s(P),N(W=>{O(L,"type",d()?"checkbox":"radio"),oa(L,e(b).value),va(L,W),g(D,e(b).label)},[()=>d()?n().includes(e(b).value):n()===e(b).value],B),ze("change",L,()=>x(e(b).value)),C(S,P)}),s($),ua(1,$,()=>fa,()=>({duration:200})),ua(2,$,()=>fa,()=>({duration:300})),C(m,$)};U(h,m=>{e(c)&&m(y)})}s(u),Ds(u,m=>R(f,m),()=>e(f)),N(()=>g(I,v())),ze("click",p,_),C(l,u),De()}var Vr=F('<a class="interacted-user svelte-1prvkto"> </a>'),Jr=F('<div class="image-indicator svelte-1prvkto"><span> </span></div>'),Zr=F('<div><div class="post-date-column svelte-1prvkto"><div class="post-date svelte-1prvkto"><a target="_blank" class="link"> </a></div></div> <div class="post-content-column svelte-1prvkto"><div class="post-type svelte-1prvkto"> <!></div> <div class="text-content svelte-1prvkto"> </div> <!></div> <div class="post-metrics-column svelte-1prvkto"><div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-bell svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-thumbs-up svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-copy svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-comment svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-comments svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div></div></div>'),en=F('<section class="posts-list section"><h2 class="section-title"> </h2> <div class="filters"><!> <!></div> <div class="posts-container svelte-1prvkto"><div class="posts-header svelte-1prvkto"><div class="header-item header-date svelte-1prvkto">Date</div> <div class="header-item header-content svelte-1prvkto">Content</div> <div class="header-item header-metrics svelte-1prvkto"><div class="metric-item svelte-1prvkto"><!>Interactions</div> <div class="metric-item svelte-1prvkto"><!> Likes</div> <div class="metric-item svelte-1prvkto"><!> Reposts</div> <div class="metric-item svelte-1prvkto"><!> Replies</div> <div class="metric-item svelte-1prvkto"><!> Quotes</div></div></div> <!></div></section>');function tn(l,t){qe(t,!1);const a=Z(),n=Z();let v=me(t,"posts",24,()=>[]);function d(u){const p=[{value:"original",label:"Originals",count:0,icon:"original"},{value:"repost",label:"Reposts",count:0,icon:"repost"},{value:"quote",label:"Quotes",count:0,icon:"quote"},{value:"reply",label:"Replies",count:0,icon:"reply"}];return u.forEach(I=>{const h=I.post.thingType;let y=p.find(m=>m.value===h);y&&(y.count+=1)}),p}let c=Z("all"),f=Z("createdAt");function k(u){R(c,u.detail)}function x(u){R(f,u.detail)}be(()=>(It(v()),e(c)),()=>{R(a,v().filter(u=>{const p=u.post.thingType;return Array.isArray(e(c))?e(c).includes("all")||e(c).includes(p):e(c)==="all"||p===e(c)}))}),be(()=>(e(a),e(f)),()=>{R(n,[...e(a)].sort((u,p)=>{switch(e(f)){case"interactions":return p.post.interactions-u.post.interactions;case"likes":return(p.post.likeCount||0)-(u.post.likeCount||0);case"reposts":return(p.post.repostCount||0)-(u.post.repostCount||0);case"replies":return(p.post.replyCount||0)-(u.post.replyCount||0);case"quotes":return(p.post.quoteCount||0)-(u.post.quoteCount||0);case"createdAt":default:return new Date(p.post.thingCreatedAt).getTime()-new Date(u.post.thingCreatedAt).getTime()}}))}),Mt(),Ie();var _=Be(),E=oe(_);{var o=u=>{var p=en();const I=B(()=>d(v()));var h=r(p),y=r(h);s(h);var m=i(h,2),$=r(m);ma($,{options:[{value:"createdAt",label:"Created At",icon:"createdAt"},{value:"interactions",label:"Interactions",icon:"interaction"},{value:"replies",label:"Replies",icon:"reply"},{value:"likes",label:"Likes",icon:"like"},{value:"reposts",label:"Reposts",icon:"repost"},{value:"quotes",label:"Quotes",icon:"quote"}],get buttonText(){return`Sort By: ${e(f)??""}`},get selected(){return e(f)},set selected(M){R(f,M)},$$events:{change:x},$$legacy:!0});var w=i($,2);ma(w,{get options(){return e(I)},isMultiSelect:!0,get buttonText(){return`Filter Post Types: ${e(c)??""}`},get selected(){return e(c)},set selected(M){R(c,M)},$$events:{change:k},$$legacy:!0}),s(m);var q=i(m,2),H=r(q),S=i(r(H),4),b=r(S),P=r(b);we(P,()=>ke("interaction")),fe(),s(b);var L=i(b,2),z=r(L);we(z,()=>ke("like")),fe(),s(L);var Y=i(L,2),D=r(Y);we(D,()=>ke("repost")),fe(),s(Y);var K=i(Y,2),ee=r(K);we(ee,()=>ke("reply")),fe(),s(K);var W=i(K,2),V=r(W);we(V,()=>ke("quote")),fe(),s(W),s(S),s(H);var T=i(H,2);Pe(T,1,()=>e(n),Ae,(M,A)=>{var X=Zr(),G=r(X),j=r(G),Q=r(j),te=r(Q,!0);s(Q),s(j),s(G);var re=i(G,2),ne=r(re),Me=r(ne),ve=i(Me);{var _e=pe=>{var de=Vr(),Xe=r(de);s(de),N(()=>{O(de,"href",`https://bsky.app/profile/${e(A).post.interactedUser.handle??""}`),g(Xe,`@${e(A).post.interactedUser.handle??""}`)}),C(pe,de)};U(ve,pe=>{["reply","repost","quote"].includes(e(A).post.thingType)&&e(A).post.interactedUser&&pe(_e)})}s(ne);var he=i(ne,2),$e=r(he,!0);s(he);var We=i(he,2);{var Re=pe=>{var de=Jr(),Xe=r(de),st=r(Xe);s(Xe),s(de),N(()=>g(st,`+${e(A).post.embed.images.length??""} image${(e(A).post.embed.images.length>1?"s":"")??""}`)),C(pe,de)};U(We,pe=>{var de;(de=e(A).post.embed)!=null&&de.images&&pe(Re)})}s(re);var Ee=i(re,2),ae=r(Ee),J=i(r(ae),2),Ye=r(J,!0);s(J),s(ae);var Le=i(ae,2),at=i(r(Le),2),je=r(at,!0);s(at),s(Le);var Oe=i(Le,2),Ge=i(r(Oe),2),ot=r(Ge,!0);s(Ge),s(Oe);var Ne=i(Oe,2),Ke=i(r(Ne),2),vt=r(Ke,!0);s(Ke),s(Ne);var Qe=i(Ne,2),Ve=i(r(Qe),2),ct=r(Ve,!0);s(Ve),s(Qe),s(Ee),s(X),N(pe=>{Fs(X,1,`post-row ${e(A).post.thingType??""}`,"svelte-1prvkto"),O(Q,"href",e(A).post.url),g(te,pe),g(Me,`${e(A).post.thingType??""} `),g($e,e(A).post.record.text),g(Ye,e(A).post.interactions),g(je,e(A).post.likeCount),g(ot,e(A).post.repostCount),g(vt,e(A).post.replyCount),g(ct,e(A).post.quoteCount)},[()=>As(e(A).post.thingCreatedAt)],B),C(M,X)}),s(q),s(p),N(()=>g(y,`Most Recent ${v().length??""} Posts`)),C(u,p)};U(E,u=>{v().length>0&&u(o)})}C(l,_),De()}var an=F('<div class="error-message svelte-1r4fyk4"><p> </p></div>'),sn=F('<div class="progress-container svelte-1r4fyk4"><div class="progress-bar svelte-1r4fyk4"></div></div>'),rn=F('<p class="search-message svelte-1r4fyk4"> </p> <!>',1),nn=F('Load More Posts (<span class="stats-count svelte-1r4fyk4"> </span> posts loaded)',1),ln=F('<div class="load-more-container svelte-1r4fyk4"><button class="load-more-btn svelte-1r4fyk4"><!></button></div>'),on=F("<!> <!> <!> <!> <!> <!>",1),vn=F('<div class="container svelte-1r4fyk4"><div class="content svelte-1r4fyk4"><button class="back-link svelte-1r4fyk4">← Back to homepage</button> <h1 class="title svelte-1r4fyk4"><a></a></h1> <!> <!></div></div>');function wn(l,t){qe(t,!1);let n=me(t,"data",8)().handle,v=Z(""),d=Z(null),c=Z([]),f=Z(!0),k=Z(null),x=3,_=Z(null);const E=2e3;let o=Z({current:0,total:x,posts:0});async function u(){if(n){R(f,!0),R(v,`Searching for ${n}...`),R(k,null),R(d,null),R(c,[]),R(_,null);try{if(R(d,await Js(n)),e(d)){R(v,`Fetching posts for ${n}... (Batch 0 of ${x})`),R(o,{current:0,total:x,posts:0});const P=await Vs(n,x,(L,z,Y)=>{R(o,{current:L,total:z,posts:Y}),R(v,`Fetching posts for ${n}... (Batch ${L} of ${z}, ${Y} posts so far)`)});R(c,P.feed),R(_,P.cursor||null)}R(v,"")}catch(b){const P=b instanceof Error&&b.message.match(/status (\d+)/);(P?parseInt(P[1]):null)===400?R(k,`The handle "${n}" could not be found on Bluesky`):R(k,b instanceof Error?b.message:"An error occurred fetching data"),R(v,"")}finally{R(f,!1)}}}async function p(){if(!(!n||!e(_)||e(f)||e(c).length>=E)){R(f,!0),R(v,`Fetching more posts for ${n}...`);try{R(o,{current:0,total:1,posts:e(c).length}),await new Promise(z=>setTimeout(z,500));const b=`${Rt}/xrpc/app.bsky.feed.getAuthorFeed?actor=${n}&limit=100&cursor=${encodeURIComponent(e(_))}`,P=[...e(c)];R(o,{current:1,total:1,posts:e(c).length}),R(v,`Fetching more posts... (${e(c).length} posts so far)`);const L=await Pa(n,e(_));if(L.feed&&L.feed.length>0){const z=E-P.length,Y=L.feed.slice(0,z);P.push(...Y),P.length<E&&L.cursor?R(_,L.cursor):R(_,null)}else R(_,null);R(c,P),R(v,"")}catch(b){R(k,b instanceof Error?b.message:"An error occurred fetching additional posts"),R(v,"")}finally{R(f,!1)}}}Ca(()=>{u()}),Ie();var I=vn(),h=r(I),y=r(h),m=i(y,2),$=r(m);$.textContent=Ps,s(m);var w=i(m,2);{var q=b=>{var P=an(),L=r(P),z=r(L);s(L),s(P),N(()=>g(z,`Error: ${e(k)??""}`)),C(b,P)};U(w,b=>{e(k)&&b(q)})}var H=i(w,2);{var S=b=>{var P=on(),L=oe(P);{var z=T=>{var M=rn(),A=oe(M),X=r(A,!0);s(A);var G=i(A,2);{var j=Q=>{var te=sn(),re=r(te);s(te),N(()=>O(re,"style",`width: ${e(o).current/e(o).total*100}%`)),C(Q,te)};U(G,Q=>{e(o).current>0&&Q(j)})}N(()=>g(X,e(v))),C(T,M)};U(L,T=>{e(v)&&T(z)})}var Y=i(L,2);{var D=T=>{var M=ln(),A=r(M),X=r(A);{var G=Q=>{var te=Ct("Maximum Posts Loaded (2,000)");C(Q,te)},j=Q=>{var te=Be(),re=oe(te);{var ne=ve=>{var _e=Ct("No More Posts Available");C(ve,_e)},Me=ve=>{var _e=nn(),he=i(oe(_e)),$e=r(he,!0);s(he),fe(),N(()=>g($e,e(c).length)),C(ve,_e)};U(re,ve=>{e(_)?ve(Me,!1):ve(ne)},!0)}C(Q,te)};U(X,Q=>{e(c).length>=E?Q(G):Q(j,!1)})}s(A),s(M),N(()=>A.disabled=e(f)||!e(_)||e(c).length>=E),ze("click",A,p),C(T,M)};U(Y,T=>{!e(f)&&e(c).length>0&&T(D)})}var K=i(Y,2);ir(K,{get profile(){return e(d)}});var ee=i(K,2);Sr(ee,{get posts(){return e(c)},get profile(){return e(d)}});var W=i(ee,2);Wr(W,{get posts(){return e(c)},get profile(){return e(d)}});var V=i(W,2);tn(V,{get posts(){return e(c)},get profile(){return e(d)}}),C(b,P)};U(H,b=>{e(d)&&b(S)})}s(h),s(I),N(b=>O($,"href",b),[()=>ca("/")],B),ze("click",y,()=>Ms(ca("/"))),C(l,I),De()}export{wn as component,kn as universal};
