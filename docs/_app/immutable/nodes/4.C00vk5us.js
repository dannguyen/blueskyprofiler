var Us=Object.defineProperty;var Ws=(n,t,r)=>t in n?Us(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var ie=(n,t,r)=>Ws(n,typeof t!="symbol"?t+"":t,r);import{t as L,a as $,d as Se,n as Fe,c as it}from"../chunks/BkWF4Q1p.js";import"../chunks/DGNyqQ7m.js";import{D as $e,q as Bs,F as zs,g as e,$ as Q,I as Ys,J as Xt,o as ot,s as vt,t as He,v as Qs,K as ns,C as is,L as Xs,z as os,S as Gs,ai as Ks,a5 as Gt,av as ct,E as ze,aw as pt,ax as Kt,ay as Vs,y as js,az as Js,aA as Zs,aB as ft,aC as ea,m as ta,k as sa,B as aa,aD as vs,Q as cs,aE as ra,G as la,aF as na,aG as ia,aa as oa,d as va,aH as ca,aI as da,aJ as pa,aK as fa,aL as Ue,M as Vt,N as jt,O as ua,a7 as ga,P as _a,p as Me,V as a,X as l,W as s,Y as Ne,T as z,a as Ie,aM as xe,a0 as D,a1 as re,f as ut,aN as gt,ar as he}from"../chunks/BxrLAxTh.js";import{a as ha,i as W,s as b}from"../chunks/CLUKgOnG.js";import{a as ya,b as ma,s as N,f as _t,p as We,r as Jt,d as Zt,e as es,g as ba,S as xa}from"../chunks/DuYbbPbg.js";import{w as ka,e as Le}from"../chunks/CYycGBYB.js";import{i as Ee}from"../chunks/BfPmg4oS.js";import{p as ke,b as wa}from"../chunks/DBXP9ifw.js";import{o as ds,a as $a}from"../chunks/BASowPVK.js";import{g as Ta}from"../chunks/C7RoNg3w.js";import{r as ts}from"../chunks/e-oZRkZQ.js";function Ce(n,t){return t}function Ca(n,t,r,o){for(var v=[],c=t.length,p=0;p<c;p++)Vs(t[p].e,v,!0);var k=c>0&&v.length===0&&r!==null;if(k){var M=r.parentNode;js(M),M.append(r),o.clear(),De(n,t[0].prev,t[c-1].next)}Js(v,()=>{for(var T=0;T<c;T++){var y=t[T];k||(o.delete(y.k),De(n,y.prev,y.next)),Zs(y.e,!k)}})}function Pe(n,t,r,o,v,c=null){var p=n,k={flags:t,items:new Map,first:null},M=(t&vs)!==0;if(M){var T=n;p=$e?ot(sa(T)):T.appendChild(aa())}$e&&Bs();var y=null,R=!1,h=Q(()=>{var _=r();return Gs(_)?_:_==null?[]:os(_)});zs(()=>{var _=e(h),d=_.length;if(R&&d===0)return;R=d===0;let i=!1;if($e){var u=p.data===Ys;u!==(d===0)&&(p=Xt(),ot(p),vt(!1),i=!0)}if($e){for(var f=null,m,C=0;C<d;C++){if(He.nodeType===8&&He.data===Qs){p=He,i=!0,vt(!1);break}var g=_[C],x=o(g,C);m=ps(He,k,f,null,g,x,C,v,t,r),k.items.set(x,m),f=m}d>0&&ot(Xt())}$e||Pa(_,k,p,v,t,o,r),c!==null&&(d===0?y?ns(y):y=is(()=>c(p)):y!==null&&Xs(y,()=>{y=null})),i&&vt(!0),e(h)}),$e&&(p=He)}function Pa(n,t,r,o,v,c,p){var ee,K,te,j;var k=(v&ra)!==0,M=(v&(ft|pt))!==0,T=n.length,y=t.items,R=t.first,h=R,_,d=null,i,u=[],f=[],m,C,g,x;if(k)for(x=0;x<T;x+=1)m=n[x],C=c(m,x),g=y.get(C),g!==void 0&&((ee=g.a)==null||ee.measure(),(i??(i=new Set)).add(g));for(x=0;x<T;x+=1){if(m=n[x],C=c(m,x),g=y.get(C),g===void 0){var O=h?h.e.nodes_start:r;d=ps(O,t,d,d===null?t.first:d.next,m,C,x,o,v,p),y.set(C,d),u=[],f=[],h=d.next;continue}if(M&&Aa(g,m,x,v),(g.e.f&ct)!==0&&(ns(g.e),k&&((K=g.a)==null||K.unfix(),(i??(i=new Set)).delete(g))),g!==h){if(_!==void 0&&_.has(g)){if(u.length<f.length){var S=f[0],w;d=S.prev;var q=u[0],H=u[u.length-1];for(w=0;w<u.length;w+=1)ss(u[w],S,r);for(w=0;w<f.length;w+=1)_.delete(f[w]);De(t,q.prev,H.next),De(t,d,q),De(t,H,S),h=S,d=H,x-=1,u=[],f=[]}else _.delete(g),ss(g,h,r),De(t,g.prev,g.next),De(t,g,d===null?t.first:d.next),De(t,d,g),d=g;continue}for(u=[],f=[];h!==null&&h.k!==C;)(h.e.f&ct)===0&&(_??(_=new Set)).add(h),f.push(h),h=h.next;if(h===null)continue;g=h}u.push(g),d=g,h=g.next}if(h!==null||_!==void 0){for(var F=_===void 0?[]:os(_);h!==null;)(h.e.f&ct)===0&&F.push(h),h=h.next;var X=F.length;if(X>0){var se=(v&vs)!==0&&T===0?r:null;if(k){for(x=0;x<X;x+=1)(te=F[x].a)==null||te.measure();for(x=0;x<X;x+=1)(j=F[x].a)==null||j.fix()}Ca(t,F,se,y)}}k&&cs(()=>{var P;if(i!==void 0)for(g of i)(P=g.a)==null||P.apply()}),ze.first=t.first&&t.first.e,ze.last=d&&d.e}function Aa(n,t,r,o){(o&ft)!==0&&Kt(n.v,t),(o&pt)!==0?Kt(n.i,r):n.i=r}function ps(n,t,r,o,v,c,p,k,M,T){var y=(M&ft)!==0,R=(M&ea)===0,h=y?R?Ks(v):Gt(v):v,_=(M&pt)===0?p:Gt(p),d={i:_,v:h,k:c,a:null,e:null,prev:r,next:o};try{return d.e=is(()=>k(n,h,_,T),$e),d.e.prev=r&&r.e,d.e.next=o&&o.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),o!==null&&(o.prev=d,o.e.prev=d.e),d}finally{}}function ss(n,t,r){for(var o=n.next?n.next.e.nodes_start:r,v=t?t.e.nodes_start:r,c=n.e.nodes_start;c!==o;){var p=ta(c);v.before(c),c=p}}function De(n,t,r){t===null?n.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Da(n,t,r){var o=n==null?"":""+n;return o=o?o+" "+t:t,o===""?null:o}function Ma(n,t,r,o,v,c){var p=n.__className;if($e||p!==r){var k=Da(r,o);(!$e||k!==n.getAttribute("class"))&&(k==null?n.removeAttribute("class"):n.className=k),n.__className=r}return c}const Ia=()=>performance.now(),Te={tick:n=>requestAnimationFrame(n),now:()=>Ia(),tasks:new Set};function fs(){const n=Te.now();Te.tasks.forEach(t=>{t.c(n)||(Te.tasks.delete(t),t.f())}),Te.tasks.size!==0&&Te.tick(fs)}function Ea(n){let t;return Te.tasks.size===0&&Te.tick(fs),{promise:new Promise(r=>{Te.tasks.add(t={c:n,f:r})}),abort(){Te.tasks.delete(t)}}}function Be(n,t){ka(()=>{n.dispatchEvent(new CustomEvent(t))})}function qa(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const t=n.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function as(n){const t={},r=n.split(";");for(const o of r){const[v,c]=o.split(":");if(!v||c===void 0)break;const p=qa(v.trim());t[p]=c.trim()}return t}const Ra=n=>n;function rs(n,t,r,o){var v=(n&da)!==0,c=(n&pa)!==0,p=v&&c,k=(n&ca)!==0,M=p?"both":v?"in":"out",T,y=t.inert,R=t.style.overflow,h,_;function d(){var C=ua,g=ze;Vt(null),jt(null);try{return T??(T=r()(t,(o==null?void 0:o())??{},{direction:M}))}finally{Vt(C),jt(g)}}var i={is_global:k,in(){var C;if(t.inert=y,!v){_==null||_.abort(),(C=_==null?void 0:_.reset)==null||C.call(_);return}c||h==null||h.abort(),Be(t,"introstart"),h=dt(t,d(),_,1,()=>{Be(t,"introend"),h==null||h.abort(),h=T=void 0,t.style.overflow=R})},out(C){if(!c){C==null||C(),T=void 0;return}t.inert=!0,Be(t,"outrostart"),_=dt(t,d(),h,0,()=>{Be(t,"outroend"),C==null||C()})},stop:()=>{h==null||h.abort(),_==null||_.abort()}},u=ze;if((u.transitions??(u.transitions=[])).push(i),v&&ha){var f=k;if(!f){for(var m=u.parent;m&&(m.f&la)!==0;)for(;(m=m.parent)&&(m.f&na)===0;);f=!m||(m.f&ia)!==0}f&&oa(()=>{va(()=>i.in())})}}function dt(n,t,r,o,v){var c=o===1;if(fa(t)){var p,k=!1;return cs(()=>{if(!k){var u=t({direction:c?"in":"out"});p=dt(n,u,r,o,v)}}),{abort:()=>{k=!0,p==null||p.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return v(),{abort:Ue,deactivate:Ue,reset:Ue,t:()=>o};const{delay:M=0,css:T,tick:y,easing:R=Ra}=t;var h=[];if(c&&r===void 0&&(y&&y(0,1),T)){var _=as(T(0,1));h.push(_,_)}var d=()=>1-o,i=n.animate(h,{duration:M});return i.onfinish=()=>{var u=(r==null?void 0:r.t())??1-o;r==null||r.abort();var f=o-u,m=t.duration*Math.abs(f),C=[];if(m>0){var g=!1;if(T)for(var x=Math.ceil(m/16.666666666666668),O=0;O<=x;O+=1){var S=u+f*R(O/x),w=as(T(S,1-S));C.push(w),g||(g=w.overflow==="hidden")}g&&(n.style.overflow="hidden"),d=()=>{var q=i.currentTime;return u+f*R(q/m)},y&&Ea(()=>{if(i.playState!=="running")return!1;var q=d();return y(q,1-q),!0})}i=n.animate(C,{duration:m,fill:"forwards"}),i.onfinish=()=>{d=()=>o,y==null||y(o,1-o),v()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=Ue)},deactivate:()=>{v=Ue},reset:()=>{o===0&&(y==null||y(1,0))},t:()=>d()}}function La(n,t,r){var o=ga(n,t);o&&o.set&&(n[t]=r,_a(()=>{n[t]=null}))}const ht="https://public.api.bsky.app";function yt(n,t){throw console.error(`Error ${t}:`,n),n}function Sa(n){var t,r,o,v;return(r=(t=n.embed)==null?void 0:t.$type)!=null&&r.includes("app.bsky.embed.images")?"image":(v=(o=n.embed)==null?void 0:o.$type)!=null&&v.includes("app.bsky.embed.video")?"video":"text"}function us(n){const t=n.uri.split("/"),r=t[t.length-1];return`https://bsky.app/profile/${n.author.handle}/post/${r}`}function Fa(n){try{let r=new URL(n).hostname.toLowerCase();return r=r.endsWith("/")?r.slice(0,-1):r,r=r.startsWith("www.")?r.slice(4):r,r}catch{return""}}function Na(n){var o,v;let t="",r="";if(((v=(o=n.record)==null?void 0:o.embed)==null?void 0:v.$type)==="app.bsky.embed.external"&&n.record.embed.external){t=n.record.embed.external.uri||"",r=n.record.embed.external.title||"";const c=Fa(t);return{url:t,title:r,domain:c}}else return null}async function Oa(n){if(!n)return null;try{const t=await fetch(`${ht}/xrpc/app.bsky.actor.getProfile?actor=${n}`);if(!t.ok)throw new Error(`API request failed with status ${t.status}`);return await t.json()}catch(t){yt(t,`fetching profile for ${n}`)}}function Ha(n){return new Promise(t=>setTimeout(t,n))}class Ua{constructor(t){ie(this,"uri");ie(this,"cid");ie(this,"author");ie(this,"record");ie(this,"embed");ie(this,"replyCount");ie(this,"repostCount");ie(this,"likeCount");ie(this,"quoteCount");ie(this,"indexedAt");ie(this,"labels");ie(this,"interactions");ie(this,"replyRoot");ie(this,"replyParent");ie(this,"feedReason");ie(this,"thingType");ie(this,"thingSubType");ie(this,"interactedUser");ie(this,"thingCreatedAt");var r,o;Object.assign(this,t.post),this.thingType=this.constructor.getThingType(t),this.thingType==="reply"?(this.replyRoot=t.reply.root,this.replyParent=t.reply.parent,this.interactedUser=this.replyParent.author):this.thingType==="repost"?(this.feedReason=t.reason,this.interactedUser=t.post.author):this.thingType==="quote"&&((o=(r=t.post.embed)==null?void 0:r.$type)!=null&&o.includes("embed.recordWithMedia#view")?(this.thingSubType="quote-with-media",this.interactedUser=this.embed.record.record.author):this.interactedUser=this.embed.record.author),this.thingType==="repost"?this.thingCreatedAt=t.reason.indexedAt:this.thingCreatedAt=this.record.createdAt,this.interactions=(this.likeCount||0)+(this.repostCount||0)+(this.replyCount||0)+(this.quoteCount||0)}isOriginal(){return this.thingType!=="repost"}getTotalInteractions(){return this.interactions}static getThingType(t){var v,c,p;const r=t.post;let o="repost";return t.reason&&((v=t.reason)!=null&&v.$type.includes("reasonRepost"))?o="repost":t.reply?o="reply":(p=(c=r.embed)==null?void 0:c.$type)!=null&&p.includes("app.bsky.embed.record")?o="quote":o="post",console.log(`myposts ${o}; reply? ${t.reply}`),o}}function Wa(n){return!n.feed||n.feed.length===0?n:{feed:n.feed.map(r=>({post:new Ua(r)})),cursor:n.cursor}}async function gs(n,t){if(!n)return{feed:[]};try{let r=`${ht}/xrpc/app.bsky.feed.getAuthorFeed?actor=${n}&limit=100`;t&&(r+=`&cursor=${encodeURIComponent(t)}`);const o=await fetch(r);if(!o.ok)throw new Error(`API request failed with status ${o.status}`);const v=await o.json();return Wa(v)}catch(r){return yt(r,`fetching posts for ${n}`),{feed:[]}}}async function Ba(n,t=1,r){if(!n)return{feed:[]};try{const o=[];let v;for(let c=0;c<t;c++){r&&r(c+1,t,o.length),console.log(`Batch ${c+1} of ${t}: Using cursor: ${c===0?"undefined":v}`),c>0&&await Ha(200);const p=await gs(n,c===0?void 0:v);if(p.feed&&p.feed.length>0)o.push(...p.feed),console.log(`Retrieved ${p.feed.length} posts, total now: ${o.length}`);else{console.log("No posts in this batch, stopping");break}if(v=p.cursor,console.log(`Next cursor will be: ${v}`),!v){console.log("No cursor returned, stopping");break}}return r&&r(t,t,o.length),{feed:o,cursor:v}}catch(o){return console.error("Error in getBatchUserPosts:",o),yt(o,`fetching batch posts for ${n}`),{feed:[]}}}const za=({params:n})=>({handle:n.handle}),il=Object.freeze(Object.defineProperty({__proto__:null,load:za},Symbol.toStringTag,{value:"Module"}));var Ya=L('<img class="profile-avatar svelte-1wqd2fx">'),Qa=L('<p class="profile-bio svelte-1wqd2fx"> </p>'),Xa=L('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Followers</span></div>'),Ga=L('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Following</span></div>'),Ka=L('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Posts</span></div>'),Va=L('<div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Posts/Day</span></div>'),ja=L('<p class="profile-indexed svelte-1wqd2fx"> </p>'),Ja=L('<section class="profile-card section svelte-1wqd2fx"><div class="profile-header svelte-1wqd2fx"><!> <div class="profile-info svelte-1wqd2fx"><h2 class="profile-name svelte-1wqd2fx"> </h2> <p class="profile-handle svelte-1wqd2fx"><a> </a></p></div></div> <!> <div class="profile-stats svelte-1wqd2fx"><div class="stat svelte-1wqd2fx"><span class="stat-value svelte-1wqd2fx"> </span> <span class="stat-label svelte-1wqd2fx">Account Age</span></div> <!> <!> <!> <!></div> <div class="profile-meta svelte-1wqd2fx"><p class="profile-did svelte-1wqd2fx"> </p> <!></div></section>');function Za(n,t){var j;Me(t,!1);let r=ke(t,"profile",8,null),o=(j=r())!=null&&j.createdAt?ya(r().createdAt):null;Ee();var v=Ja(),c=a(v),p=a(c);{var k=P=>{var A=Ya();z(()=>{N(A,"src",r().avatar),N(A,"alt",r().displayName||r().handle)}),$(P,A)};W(p,P=>{r().avatar&&P(k)})}var M=l(p,2),T=a(M),y=a(T,!0);s(T);var R=l(T,2),h=a(R),_=a(h);s(h),s(R),s(M),s(c);var d=l(c,2);{var i=P=>{var A=Qa(),I=a(A,!0);s(A),z(()=>b(I,r().description)),$(P,A)};W(d,P=>{r().description&&P(i)})}var u=l(d,2),f=a(u),m=a(f),C=a(m,!0);s(m),Ne(2),s(f);var g=l(f,2);{var x=P=>{var A=Xa(),I=a(A),B=a(I,!0);s(I),Ne(2),s(A),z(G=>b(B,G),[()=>r().followersCount.toLocaleString()],Q),$(P,A)};W(g,P=>{r().followersCount!==void 0&&P(x)})}var O=l(g,2);{var S=P=>{var A=Ga(),I=a(A),B=a(I,!0);s(I),Ne(2),s(A),z(G=>b(B,G),[()=>r().followsCount.toLocaleString()],Q),$(P,A)};W(O,P=>{r().followsCount!==void 0&&P(S)})}var w=l(O,2);{var q=P=>{var A=Ka(),I=a(A),B=a(I,!0);s(I),Ne(2),s(A),z(G=>b(B,G),[()=>r().postsCount.toLocaleString()],Q),$(P,A)};W(w,P=>{r().postsCount!==void 0&&P(q)})}var H=l(w,2);{var F=P=>{var A=Va(),I=a(A),B=a(I,!0);s(I),Ne(2),s(A),z(G=>b(B,G),[()=>Math.round(r().postsCount/o,1).toLocaleString()],Q),$(P,A)};W(H,P=>{r().postsCount!==void 0&&P(F)})}s(u);var X=l(u,2),se=a(X),ee=a(se);s(se);var K=l(se,2);{var te=P=>{var A=ja(),I=a(A);s(A),z(B=>b(I,`Created at: ${B??""}`),[()=>_t(r().createdAt)],Q),$(P,A)};W(K,P=>{r().createdAt&&P(te)})}s(X),s(v),z(P=>{b(y,r().displayName||r().handle),N(h,"href",`https://bsky.app/profile/${r().handle??""}`),b(_,`@${r().handle??""}`),b(C,P),b(ee,`DID: ${r().did??""}`)},[()=>ma(o)],Q),$(n,v),Ie()}var er=Fe('<rect rx="2"></rect>'),tr=Fe('<rect rx="2"></rect>'),sr=Fe('<text text-anchor="middle" font-size="20" fill="#93c5fd"> </text>'),ar=Fe('<!><!><!><text text-anchor="middle" font-size="16" fill="#9ca3af" font-family="monospace"> </text>',1),rr=L('<div class="svg-chart-container svelte-n5ly9r"><svg class="hour-chart svelte-n5ly9r" viewBox="0 0 900 500" preserveAspectRatio="xMidYMid meet"><line x1="40" y1="10" x2="40" y2="450" stroke="#666" stroke-width="1"></line><line x1="40" y1="450" x2="870" y2="450" stroke="#666" stroke-width="1"></line><!></svg></div>'),lr=L('<p class="no-data svelte-n5ly9r">No posting time data available</p>'),nr=L('<div class="card svelte-n5ly9r"><!></div>');function ir(n,t){Me(t,!1);const r=re(),o=re(),v=re(),c=re(),p=re();let k=ke(t,"posts",24,()=>[]);const M="#3b82f6",T="#8b5cf6";function y(i){const u=Array(24).fill(0),f=Array(24).fill(0),m=Array(24).fill(0);i.forEach(g=>{const x=new Date(g.post.indexedAt),O=x.getHours(),S=O-O%2,w=x.getDay();u[S]++,w===0||w===6?m[S]++:f[S]++});const C=Math.max(...u);return{hourCounts:u,weekdayCounts:f,weekendCounts:m,maxCount:C}}xe(()=>ut(k()),()=>{D(r,y(k()))}),xe(()=>e(r),()=>{D(o,e(r).hourCounts)}),xe(()=>e(r),()=>{D(v,e(r).weekdayCounts)}),xe(()=>e(r),()=>{D(c,e(r).weekendCounts)}),xe(()=>e(r),()=>{D(p,e(r).maxCount)}),gt(),Ee();var R=nr(),h=a(R);{var _=i=>{var u=rr(),f=a(u),m=l(a(f),2);Pe(m,1,()=>e(o),Ce,(C,g,x)=>{var O=Se(),S=he(O);{var w=q=>{var H=ar();const F=Q(()=>40),X=Q(()=>450),se=Q(()=>e(X)-50),ee=Q(()=>e(v)[x]),K=Q(()=>e(c)[x]),te=Q(()=>e(ee)>0?Math.max(4,e(ee)/e(p)*e(se)):0),j=Q(()=>e(K)>0?Math.max(4,e(K)/e(p)*e(se)):0),P=Q(()=>50+x*34),A=Q(()=>e(X)-e(te)),I=Q(()=>e(A)-e(j)),B=Q(()=>x===0?"12":x<12?`${x}`:x===12?"12":`${x-12}`),G=Q(()=>x+1),E=Q(()=>e(G)===0?"12am":e(G)<12?`${e(G)}am`:e(G)===12?"12pm":`${e(G)-12}pm`),ae=Q(()=>`${e(B)}-${e(E)}`);var J=he(H);{var ne=Y=>{var U=er();N(U,"fill",M),z(()=>{N(U,"x",e(P)),N(U,"y",e(A)),N(U,"width",e(F)),N(U,"height",e(te))}),$(Y,U)};W(J,Y=>{e(ee)>0&&Y(ne)})}var fe=l(J);{var _e=Y=>{var U=tr();N(U,"fill",T),z(()=>{N(U,"x",e(P)),N(U,"y",e(I)),N(U,"width",e(F)),N(U,"height",e(j))}),$(Y,U)};W(fe,Y=>{e(K)>0&&Y(_e)})}var ce=l(fe);{var ye=Y=>{var U=sr(),oe=a(U,!0);s(U),z(V=>{N(U,"x",e(P)+e(F)/2),N(U,"y",V),b(oe,e(g))},[()=>Math.min(e(A),e(I))-5],Q),$(Y,U)};W(ce,Y=>{e(g)>0&&Y(ye)})}var le=l(ce),Z=a(le,!0);s(le),z(()=>{N(le,"x",e(P)+e(F)/2),N(le,"y",e(X)+20),b(Z,e(ae))}),$(q,H)};W(S,q=>{x%2==0&&q(w)})}$(C,O)}),s(f),s(u),$(i,u)},d=i=>{var u=lr();$(i,u)};W(h,i=>{e(p)>0?i(_):i(d,!1)})}s(R),$(n,R),Ie()}var or=Fe('<rect width="18" rx="3"></rect><text text-anchor="middle" font-size="11" fill="#93c5fd" font-family="system-ui"> </text><text text-anchor="middle" font-size="11" fill="#93c5fd" font-family="system-ui"> </text>',1),vr=Fe('<text y="195" text-anchor="middle" font-size="11" fill="#6b7280">0</text>'),cr=Fe('<text y="260" text-anchor="middle" font-size="12" fill="#9ca3af" font-family="system-ui"> </text><!>',1),dr=L('<div class="svg-chart-container svelte-m5qxo3"><svg class="weekday-chart svelte-m5qxo3" viewBox="0 0 300 260" preserveAspectRatio="xMidYMid meet"><rect x="50" y="10" width="14" height="14" rx="2"></rect><text x="70" y="22" font-size="10" fill="#9ca3af">Weekdays</text><rect x="190" y="10" width="14" height="14" rx="2"></rect><text x="210" y="22" font-size="10" fill="#9ca3af">Weekends</text><line x1="20" y1="40" x2="20" y2="240" stroke="#666" stroke-width="1"></line><line x1="20" y1="240" x2="250" y2="240" stroke="#666" stroke-width="1"></line><!></svg></div>'),pr=L('<p class="no-data svelte-m5qxo3">No posting day data available</p>'),fr=L('<div class="card svelte-m5qxo3"><!></div>');function ur(n,t){Me(t,!1);const r=re(),o=re(),v=re(),c=re();let p=ke(t,"posts",24,()=>[]);const k=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],M="#3b82f6",T="#8b5cf6";function y(u){const f=Array(7).fill(0);let m=0;u.forEach(g=>{const S=(new Date(g.post.indexedAt).getDay()+6)%7;f[S]++,m++});const C=Math.max(...f);return{dayCounts:f,maxCount:C,totalCount:m}}function R(u){return u===5||u===6}xe(()=>ut(p()),()=>{D(r,y(p()))}),xe(()=>e(r),()=>{D(o,e(r).dayCounts)}),xe(()=>e(r),()=>{D(v,e(r).maxCount)}),xe(()=>e(r),()=>{D(c,e(r).totalCount)}),gt(),Ee();var h=fr(),_=a(h);{var d=u=>{var f=dr(),m=a(f),C=a(m);N(C,"fill",M);var g=l(C,2);N(g,"fill",T);var x=l(g,4);Pe(x,1,()=>e(o),Ce,(O,S,w)=>{var q=cr();const H=Q(()=>e(S)>0?Math.max(4,e(S)/e(v)*140):0),F=Q(()=>35+w*30),X=Q(()=>240-e(H)),se=Q(()=>e(c)>0?Math.round(e(S)/e(c)*100):0),ee=Q(()=>R(w)?T:M);var K=he(q),te=a(K,!0);s(K);var j=l(K);{var P=I=>{var B=or(),G=he(B),E=l(G),ae=a(E);s(E);var J=l(E),ne=a(J,!0);s(J),z(()=>{N(G,"x",e(F)),N(G,"y",e(X)),N(G,"height",e(H)),N(G,"fill",e(ee)),N(E,"x",e(F)+9),N(E,"y",e(X)-8),b(ae,`${e(se)??""}%`),N(J,"x",e(F)+9),N(J,"y",e(X)-20),b(ne,e(S))}),$(I,B)},A=I=>{var B=vr();z(()=>N(B,"x",e(F)+9)),$(I,B)};W(j,I=>{e(S)>0?I(P):I(A,!1)})}z(()=>{N(K,"x",e(F)+9),b(te,k[w])}),$(O,q)}),s(m),s(f),$(u,f)},i=u=>{var f=pr();$(u,f)};W(_,u=>{e(v)>0?u(d):u(i,!1)})}s(h),$(n,h),Ie()}var gr=L('<li class="svelte-sbfg82"> <a class="interacted-user svelte-sbfg82"> </a></li>'),_r=L('<li class="show-more svelte-sbfg82"><button class="show-more-btn svelte-sbfg82"> </button></li>'),hr=L("<!> <!>",1),yr=L('<li class="no-domains svelte-sbfg82">No interacted users found</li>'),mr=L('<li class="svelte-sbfg82"> <a class="domain-linked svelte-sbfg82"> </a></li>'),br=L('<li class="show-more svelte-sbfg82"><button class="show-more-btn svelte-sbfg82"> </button></li>'),xr=L("<!> <!>",1),kr=L('<li class="no-domains svelte-sbfg82">No linked domains found</li>'),wr=L('<div class="charts-container svelte-sbfg82"><div class="chart-wrapper weekday-chart svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Posts by Weekday</h4> <!></div> <div class="chart-wrapper hourly-chart svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Posts by Hour</h4> <!></div></div>'),$r=L(`<section class="analytics-card section"><h2 class="section-title">Analytics</h2> <div class="deck"> </div> <div class="analytics-grid svelte-sbfg82"><div class="analytics-section svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Recent Activity Rates</h4> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Date range:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Date of latest post:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Posts in past hour:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Posts in past 12 hours:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Posts in past 24 hours:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Recent posts/day rate:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Recent reposts/day rate:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-subsection svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Engagement (Per Recent Post)</h4> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Likes per post:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Reposts per post:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Replies per post:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Quotes per post:</span> <span class="analytics-value svelte-sbfg82"> </span></div></div> <div class="analytics-subsection svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Engagement (Recent Total)</h4> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Likes:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Reposts:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Replies:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Quotes:</span> <span class="analytics-value svelte-sbfg82"> </span></div></div></div> <div class="analytics-section svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Post Types</h4> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Regular Posts:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Quotes:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Replies:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Reposts:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-subsection svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Media</h4> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Text only:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">With video:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">With images:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-subsection svelte-sbfg82"><div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Image count:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">Images w/ ALT text:</span> <span class="analytics-value svelte-sbfg82"> </span></div> <div class="analytics-stat svelte-sbfg82"><span class="analytics-label svelte-sbfg82">ALT text %:</span> <span class="analytics-value svelte-sbfg82"> </span></div></div></div></div> <div class="analytics-section linking-activity svelte-sbfg82"><div class="analytics-subsection svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Users Interacted</h4> <ul class="domains-list svelte-sbfg82"><!></ul></div> <div class="analytics-subsection svelte-sbfg82"><h4 class="analytics-section-title svelte-sbfg82">Domains Linked</h4> <ul class="domains-list svelte-sbfg82"><!></ul></div></div></div> <div class="analytics-section svelte-sbfg82"><h2 class="analytics-section-title svelte-sbfg82"> </h2> <div class="note svelte-sbfg82">Dates and times are relative to the web browser's timezone, <strong>not</strong> the profiled
					user's timezone.</div> <!></div></section>`);function Tr(n,t){Me(t,!1);function r(_){const d=new Map;_.forEach(u=>{const f=Na(u.post);if(f&&f.domain){const m=d.get(f.domain)||0;d.set(f.domain,m+1)}});const i=Array.from(d.entries()).map(([u,f])=>({domain:u,count:f}));return i.sort((u,f)=>f.count-u.count),i}function o(_){const d=new Map;_.forEach(u=>{const f=u.post.interactedUser;if(f&&f.handle){const m=d.get(f.handle)||0;d.set(f.handle,m+1)}});const i=Array.from(d.entries()).map(([u,f])=>({handle:u,count:f}));return i.sort((u,f)=>f.count-u.count),i}let v=ke(t,"posts",24,()=>[]),c=ke(t,"profile",8,null),p=re(!1),k=re(!1);const M=10;function T(_){if(!_.length)return null;const d=_.filter(E=>E.post.isOriginal()),i=_.filter(E=>E.post.thingType=="repost"),u=d.filter(E=>!["quote","reply"].includes(E.post.thingType)),f=r(_),m=o(_);if(d.length===0)return{totalPosts:_.length,originalPostCount:0,postsPerDay:0,repostsPerDay:0,postsInLast12Hours:0,postsInLast24Hours:0,postsInLastHour:0,postTypes:{reply:0,images:0,video:0,quote:0,post:0,repost:_.length},postMediaTypes:{},engagement:{replies:{total:0,average:0},likes:{total:0,average:0},reposts:{total:0,average:0},quotes:{total:0,average:0}},dateRange:{earliest:new Date,latest:new Date,days:0},media:{totalImages:0,imagesWithAlt:0,altTextPercentage:0},linkedDomains:{},interactedUsers:{}};const C=_.map(E=>new Date(E.post.thingCreatedAt).getTime()),g=new Date(Math.min(...C)),x=new Date(Math.max(...C)),S=(x.getTime()-g.getTime())/(1e3*60*60*24),w=new Date(Date.now()-24*60*60*1e3),q=new Date(Date.now()-12*60*60*1e3),H=new Date(Date.now()-60*60*1e3),F=d.filter(E=>new Date(E.post.record.createdAt)>=w).length,X=d.filter(E=>new Date(E.post.record.createdAt)>=q).length,se=d.filter(E=>new Date(E.post.record.createdAt)>=H).length,ee={reply:0,quote:0,post:0,repost:0},K={image:0,video:0,text:0};let te=0,j=0,P=0,A=0,I=0,B=0;_.forEach(E=>{var J;ee[E.post.thingType]++;const ae=Sa(E.post);if(E.post.isOriginal()&&K[ae]++,E.post.isOriginal()&&(te+=E.post.replyCount||0,j+=E.post.likeCount||0,P+=E.post.repostCount||0,A+=E.post.quoteCount||0),E.post.isOriginal()&&((J=E.post.embed)!=null&&J.images)){const ne=E.post.embed.images;I+=ne.length,ne.forEach(fe=>{fe.alt&&fe.alt.trim().length>5&&B++})}});const G=I>0?Math.round(B/I*100):0;return{totalPosts:_.length,originalPostCount:d.length,regularPostCount:u.length,postsPerDay:+(d.length/S).toFixed(1),repostsPerDay:+(i.length/S).toFixed(1),postsInLast12Hours:X,postsInLast24Hours:F,postsInLastHour:se,postTypes:ee,postMediaTypes:K,engagement:{replies:{total:te,average:+(te/d.length).toFixed(1)},likes:{total:j,average:+(j/d.length).toFixed(1)},reposts:{total:P,average:+(P/d.length).toFixed(1)},quotes:{total:A,average:+(A/d.length).toFixed(1)}},dateRange:{earliest:g,latest:x,days:S.toFixed(1)},media:{totalImages:I,imagesWithAlt:B,altTextPercentage:G},linkedDomains:f,interactedUsers:m}}Ee();var y=Se(),R=he(y);{var h=_=>{var d=Se();const i=Q(()=>T(v()));var u=he(d);{var f=m=>{var C=$r(),g=l(a(C),2),x=a(g);s(g);var O=l(g,2),S=a(O),w=l(a(S),2),q=l(a(w),2),H=a(q);s(q),s(w);var F=l(w,2),X=l(a(F),2),se=a(X,!0);s(X),s(F);var ee=l(F,2),K=l(a(ee),2),te=a(K,!0);s(K),s(ee);var j=l(ee,2),P=l(a(j),2),A=a(P,!0);s(P),s(j);var I=l(j,2),B=l(a(I),2),G=a(B,!0);s(B),s(I);var E=l(I,2),ae=l(a(E),2),J=a(ae,!0);s(ae),s(E);var ne=l(E,2),fe=l(a(ne),2),_e=a(fe,!0);s(fe),s(ne);var ce=l(ne,2),ye=l(a(ce),2),le=l(a(ye),2),Z=a(le,!0);s(le),s(ye);var Y=l(ye,2),U=l(a(Y),2),oe=a(U,!0);s(U),s(Y);var V=l(Y,2),qe=l(a(V),2),Ye=a(qe,!0);s(qe),s(V);var mt=l(V,2),bt=l(a(mt),2),_s=a(bt,!0);s(bt),s(mt),s(ce);var xt=l(ce,2),Qe=l(a(xt),2),kt=l(a(Qe),2),hs=a(kt,!0);s(kt),s(Qe);var Xe=l(Qe,2),wt=l(a(Xe),2),ys=a(wt,!0);s(wt),s(Xe);var Ge=l(Xe,2),$t=l(a(Ge),2),ms=a($t,!0);s($t),s(Ge);var Tt=l(Ge,2),Ct=l(a(Tt),2),bs=a(Ct,!0);s(Ct),s(Tt),s(xt),s(S);var Ke=l(S,2),Ve=l(a(Ke),2),Pt=l(a(Ve),2),xs=a(Pt);s(Pt),s(Ve);var je=l(Ve,2),At=l(a(je),2),ks=a(At);s(At),s(je);var Je=l(je,2),Dt=l(a(Je),2),ws=a(Dt);s(Dt),s(Je);var Ze=l(Je,2),Mt=l(a(Ze),2),$s=a(Mt);s(Mt),s(Ze);var It=l(Ze,2),et=l(a(It),2),Et=l(a(et),2),Ts=a(Et);s(Et),s(et);var tt=l(et,2),qt=l(a(tt),2),Cs=a(qt);s(qt),s(tt);var st=l(tt,2),Rt=l(a(st),2),Ps=a(Rt);s(Rt),s(st);var Lt=l(st,2),at=a(Lt),St=l(a(at),2),As=a(St,!0);s(St),s(at);var rt=l(at,2),Ft=l(a(rt),2),Ds=a(Ft,!0);s(Ft),s(rt);var Nt=l(rt,2),Ot=l(a(Nt),2),Ms=a(Ot);s(Ot),s(Nt),s(Lt),s(It),s(Ke);var Ht=l(Ke,2),lt=a(Ht),Ut=l(a(lt),2),Is=a(Ut);{var Es=ve=>{var ue=hr(),me=he(ue);Pe(me,1,()=>e(k)?e(i).interactedUsers:e(i).interactedUsers.slice(0,M),Ce,(ge,de)=>{var pe=gr(),be=a(pe),we=l(be),Oe=a(we);s(we),s(pe),z(()=>{b(be,`${e(de).count??""}: `),N(we,"href",`https://bsky.app/profile/${e(de).handle??""}`),b(Oe,`@${e(de).handle??""}`)}),$(ge,pe)});var Re=l(me,2);{var Ae=ge=>{var de=_r(),pe=a(de),be=a(pe,!0);s(pe),s(de),z(()=>b(be,e(k)?"Show fewer":`Show all (${e(i).interactedUsers.length})`)),Le("click",pe,()=>D(k,!e(k))),$(ge,de)};W(Re,ge=>{e(i).interactedUsers.length>M&&ge(Ae)})}$(ve,ue)},qs=ve=>{var ue=yr();$(ve,ue)};W(Is,ve=>{e(i).interactedUsers.length>0?ve(Es):ve(qs,!1)})}s(Ut),s(lt);var Wt=l(lt,2),Bt=l(a(Wt),2),Rs=a(Bt);{var Ls=ve=>{var ue=xr(),me=he(ue);Pe(me,1,()=>e(p)?e(i).linkedDomains:e(i).linkedDomains.slice(0,M),Ce,(ge,de)=>{var pe=mr(),be=a(pe),we=l(be),Oe=a(we,!0);s(we),s(pe),z(()=>{b(be,`${e(de).count??""}: `),N(we,"href",`https://${e(de).domain??""}`),b(Oe,e(de).domain)}),$(ge,pe)});var Re=l(me,2);{var Ae=ge=>{var de=br(),pe=a(de),be=a(pe,!0);s(pe),s(de),z(()=>b(be,e(p)?`Show less (${M} of ${e(i).linkedDomains.length})`:`Show all (${e(i).linkedDomains.length})`)),Le("click",pe,()=>D(p,!e(p))),$(ge,de)};W(Re,ge=>{e(i).linkedDomains.length>M&&ge(Ae)})}$(ve,ue)},Ss=ve=>{var ue=kr();$(ve,ue)};W(Rs,ve=>{e(i).linkedDomains.length>0?ve(Ls):ve(Ss,!1)})}s(Bt),s(Wt),s(Ht),s(O);var zt=l(O,2),nt=a(zt),Fs=a(nt);s(nt);var Ns=l(nt,4);{var Os=ve=>{var ue=wr(),me=a(ue),Re=l(a(me),2);ur(Re,{get posts(){return v()}}),s(me);var Ae=l(me,2),ge=l(a(Ae),2);ir(ge,{get posts(){return v()}}),s(Ae),s(ue),$(ve,ue)};W(Ns,ve=>{v().length>0&&ve(Os)})}s(zt),s(C),z((ve,ue,me,Re,Ae,ge,de,pe,be,we,Oe,Hs)=>{var Yt,Qt;b(x,`Based on the most recent ${e(i).totalPosts??""} posts (${e(i).originalPostCount??""} original,
				${e(i).totalPosts-e(i).originalPostCount} reposts) from ${(((Yt=c())==null?void 0:Yt.displayName)||((Qt=c())==null?void 0:Qt.handle))??""}:`),b(H,`${e(i).dateRange.days??""} days`),b(se,ve),b(te,e(i).postsInLastHour),b(A,e(i).postsInLast12Hours),b(G,e(i).postsInLast24Hours),b(J,e(i).postsPerDay),b(_e,e(i).repostsPerDay),b(Z,e(i).engagement.likes.average),b(oe,e(i).engagement.reposts.average),b(Ye,e(i).engagement.replies.average),b(_s,e(i).engagement.quotes.average),b(hs,ue),b(ys,me),b(ms,Re),b(bs,Ae),b(xs,`${e(i).regularPostCount??""} (${ge??""}%)`),b(ks,`${e(i).postTypes.quote??""} (${de??""}%)`),b(ws,`${e(i).postTypes.reply??""} (${pe??""}%)`),b($s,`${e(i).postTypes.repost??""} (${be??""}%)`),b(Ts,`${e(i).postMediaTypes.text??""} (${we??""}%)`),b(Cs,`${e(i).postMediaTypes.video??""} (${Oe??""}%)`),b(Ps,`${e(i).postMediaTypes.image??""} (${Hs??""}%)`),b(As,e(i).media.totalImages),b(Ds,e(i).media.imagesWithAlt),b(Ms,`${e(i).media.altTextPercentage??""}%`),b(Fs,`Posting Frequency (last ${e(i).dateRange.days??""} days)`)},[()=>_t(e(i).dateRange.latest.toISOString()),()=>e(i).engagement.likes.total.toLocaleString(),()=>e(i).engagement.reposts.total.toLocaleString(),()=>e(i).engagement.replies.total.toLocaleString(),()=>e(i).engagement.quotes.total.toLocaleString(),()=>Math.round(e(i).regularPostCount/e(i).totalPosts*100),()=>Math.round(e(i).postTypes.quote/e(i).totalPosts*100),()=>Math.round(e(i).postTypes.reply/e(i).totalPosts*100),()=>Math.round(e(i).postTypes.repost/e(i).totalPosts*100),()=>Math.round(e(i).postMediaTypes.text/e(i).originalPostCount*100),()=>Math.round(e(i).postMediaTypes.video/e(i).originalPostCount*100),()=>Math.round(e(i).postMediaTypes.image/e(i).originalPostCount*100)],Q),$(m,C)};W(u,m=>{e(i)&&m(f)})}$(_,d)};W(R,_=>{v().length>0&&_(h)})}$(n,y),Ie()}var Cr=L('<img class="post-image svelte-1ck3a07">'),Pr=L('<div class="post-images svelte-1ck3a07"></div>'),Ar=L('<img class="post-image svelte-1ck3a07">'),Dr=L('<div class="post-images svelte-1ck3a07"></div>'),Mr=L('<div class="post-card svelte-1ck3a07"><div class="post-header svelte-1ck3a07"><div class="post-header-left svelte-1ck3a07"><a target="_blank" class="post-date svelte-1ck3a07"> </a> <div class="post-metrics svelte-1ck3a07"><div class="metric svelte-1ck3a07" title="Likes"><span class="metric-icon svelte-1ck3a07"><i class="fa-regular fa-thumbs-up"></i></span> <span class="metric-value svelte-1ck3a07"> </span></div> <div class="metric svelte-1ck3a07" title="Reposts"><i class="fa-regular fa-copy"></i> <span class="metric-value svelte-1ck3a07"> </span></div> <div class="metric svelte-1ck3a07" title="Replies"><i class="fa-regular fa-comment"></i> <span class="metric-value svelte-1ck3a07"> </span></div> <div class="metric svelte-1ck3a07" title="Quotes"><i class="fa-regular fa-comments"></i> <span class="metric-value svelte-1ck3a07"> </span></div></div></div> <div class="post-header-right svelte-1ck3a07"><div class="total-engagement svelte-1ck3a07" title="Total Interactions"><span class="total-label svelte-1ck3a07">Interactions</span> <span class="total-value svelte-1ck3a07"> </span></div></div></div> <div class="post-content svelte-1ck3a07"> </div> <!> <!></div>'),Ir=L('<section class="best-posts section svelte-1ck3a07"><h2 class="section-title">Most Engaging Posts</h2> <div class="deck svelte-1ck3a07"> </div> <div class="newspaper-grid svelte-1ck3a07"></div></section>');function Er(n,t){Me(t,!1);let r=ke(t,"posts",24,()=>[]);function o(k){if(!k||k.length===0)return[];const M=k.filter(T=>T.post.thingType!=="repost");return M.length===0?[]:(M.sort((T,y)=>y.post.interactions-T.post.interactions),M.slice(0,5).map(T=>T.post))}Ee();var v=Se(),c=he(v);{var p=k=>{var M=Se();const T=Q(()=>o(r()));var y=he(M);{var R=h=>{var _=Ir(),d=l(a(_),2),i=a(d);s(d);var u=l(d,2);Pe(u,5,()=>e(T),Ce,(f,m)=>{var C=Mr(),g=a(C),x=a(g),O=a(x),S=a(O,!0);s(O);var w=l(O,2),q=a(w),H=l(a(q),2),F=a(H,!0);s(H),s(q);var X=l(q,2),se=l(a(X),2),ee=a(se,!0);s(se),s(X);var K=l(X,2),te=l(a(K),2),j=a(te,!0);s(te),s(K);var P=l(K,2),A=l(a(P),2),I=a(A,!0);s(A),s(P),s(w),s(x);var B=l(x,2),G=a(B),E=l(a(G),2),ae=a(E,!0);s(E),s(G),s(B),s(g);var J=l(g,2),ne=a(J,!0);s(J);var fe=l(J,2);{var _e=le=>{var Z=Pr();Pe(Z,5,()=>e(m).embed.images,Ce,(Y,U,oe)=>{var V=Cr();z(()=>{N(V,"src",e(U).fullsize),N(V,"alt",e(U).alt||`Image ${oe+1}`)}),$(Y,V)}),s(Z),$(le,Z)};W(fe,le=>{var Z;(Z=e(m).embed)!=null&&Z.images&&e(m).embed.images.length>0&&le(_e)})}var ce=l(fe,2);{var ye=le=>{var Z=Dr();Pe(Z,5,()=>e(m).embed.media.images,Ce,(Y,U,oe)=>{var V=Ar();z(()=>{N(V,"src",e(U).fullsize),N(V,"alt",e(U).alt||`Image ${oe+1}`)}),$(Y,V)}),s(Z),$(le,Z)};W(ce,le=>{var Z,Y;(Y=(Z=e(m).embed)==null?void 0:Z.media)!=null&&Y.images&&e(m).embed.media.images.length>0&&le(ye)})}s(C),z((le,Z,Y,U,oe,V)=>{N(O,"href",le),b(S,Z),b(F,Y),b(ee,U),b(j,oe),b(I,V),b(ae,e(m).interactions),b(ne,e(m).record.text)},[()=>us(e(m)),()=>_t(e(m).record.createdAt),()=>We(e(m).likeCount||0),()=>We(e(m).repostCount||0),()=>We(e(m).replyCount||0),()=>We(e(m).quoteCount||0)],Q),$(f,C)}),s(u),s(_),z(()=>b(i,`The ${e(T).length??""} most engaged posts among the most recent ${r().length??""} posts.`)),$(h,_)};W(y,h=>{e(T).length>0&&h(R)})}$(k,M)};W(c,k=>{r().length>0&&k(p)})}return $(n,v),La(t,"getTopEngagementPosts",o),Ie({getTopEngagementPosts:o})}function qr(n){const t=n-1;return t*t*t+1}function ls(n,{delay:t=0,duration:r=400,easing:o=qr,axis:v="y"}={}){const c=getComputedStyle(n),p=+c.opacity,k=v==="y"?"height":"width",M=parseFloat(c[k]),T=v==="y"?["top","bottom"]:["left","right"],y=T.map(f=>`${f[0].toUpperCase()}${f.slice(1)}`),R=parseFloat(c[`padding${y[0]}`]),h=parseFloat(c[`padding${y[1]}`]),_=parseFloat(c[`margin${y[0]}`]),d=parseFloat(c[`margin${y[1]}`]),i=parseFloat(c[`border${y[0]}Width`]),u=parseFloat(c[`border${y[1]}Width`]);return{delay:t,duration:r,easing:o,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*p};${k}: ${f*M}px;padding-${T[0]}: ${f*R}px;padding-${T[1]}: ${f*h}px;margin-${T[0]}: ${f*_}px;margin-${T[1]}: ${f*d}px;border-${T[0]}-width: ${f*i}px;border-${T[1]}-width: ${f*u}px;min-${k}: 0`}}var Rr=L('<label class="dropdown-item svelte-13yvdvk"><input type="radio" name="dropdown"> </label>'),Lr=L('<div class="dropdown-menu svelte-13yvdvk"><label class="dropdown-item svelte-13yvdvk"><input type="radio" name="dropdown"> </label> <!></div>'),Sr=L('<div class="dropdown svelte-13yvdvk"><button type="button" class="dropdown-toggle svelte-13yvdvk">Filter Post Type</button> <!></div>');function Fr(n,t){Me(t,!1);let r=ke(t,"options",24,()=>[]),o=ke(t,"selected",12,""),v=re(!1),c=re();const p={value:"all",label:"All"};function k(i){o(i),D(v,!1),e(c).dispatchEvent(new CustomEvent("change",{detail:o()}))}function M(){D(v,!e(v))}function T(){D(v,!1)}function y(i){e(c).contains(i.target)||T()}ds(()=>{document.addEventListener("click",y)}),$a(()=>{document.removeEventListener("click",y)}),Ee();var R=Sr(),h=a(R),_=l(h,2);{var d=i=>{var u=Lr(),f=a(u),m=a(f);Jt(m);var C=l(m);s(f);var g=l(f,2);Pe(g,1,r,Ce,(x,O)=>{var S=Rr(),w=a(S);Jt(w);var q=l(w);s(S),z(()=>{Zt(w,e(O).value),es(w,o()===e(O).value),b(q,` ${e(O).label??""} (${e(O).count??""})`)}),Le("change",w,()=>k(e(O).value)),$(x,S)}),s(u),z(()=>{Zt(m,p.value),es(m,o()===p.value),b(C,` ${p.label}`)}),Le("change",m,()=>k(p.value)),rs(1,u,()=>ls,()=>({duration:200})),rs(2,u,()=>ls,()=>({duration:300})),$(i,u)};W(_,i=>{e(v)&&i(d)})}s(R),wa(R,i=>D(c,i),()=>e(c)),Le("click",h,M),$(n,R),Ie()}var Nr=L('<a class="interacted-user svelte-1prvkto"> </a>'),Or=L('<div class="image-indicator svelte-1prvkto"><span> </span></div>'),Hr=L('<div><div class="post-date-column svelte-1prvkto"><div class="post-date svelte-1prvkto"><a target="_blank" class="link"> </a></div></div> <div class="post-content-column svelte-1prvkto"><div class="post-type svelte-1prvkto"> <!></div> <div class="text-content svelte-1prvkto"> </div> <!></div> <div class="post-metrics-column svelte-1prvkto"><div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-bell svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-thumbs-up svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-copy svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-comment svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div> <div class="metric-group svelte-1prvkto"><div class="metric-label svelte-1prvkto"><i class="icon fa-regular fa-comments svelte-1prvkto"></i></div> <div class="metric-value svelte-1prvkto"> </div></div></div></div>'),Ur=L('<section class="posts-list section"><h2 class="section-title"> </h2> <div class="filters"><!></div> <div class="posts-container svelte-1prvkto"><div class="posts-header svelte-1prvkto"><div class="header-item header-date svelte-1prvkto">Date</div> <div class="header-item header-content svelte-1prvkto">Content</div> <div class="header-item header-metrics svelte-1prvkto"><div class="metric-item svelte-1prvkto"><i class="icon fa-regular fa-bell svelte-1prvkto"></i> Interactions</div> <div class="metric-item svelte-1prvkto"><i class="icon fa-regular fa-thumbs-up svelte-1prvkto"></i> Likes</div> <div class="metric-item svelte-1prvkto"><i class="icon fa-regular fa-copy svelte-1prvkto"></i> Reposts</div> <div class="metric-item svelte-1prvkto"><i class="icon fa-regular fa-comment svelte-1prvkto"></i> Replies</div> <div class="metric-item svelte-1prvkto"><i class="icon fa-regular fa-comments svelte-1prvkto"></i> Quotes</div></div></div> <!></div></section>');function Wr(n,t){Me(t,!1);const r=re();let o=ke(t,"posts",24,()=>[]);function v(y){const R=[{value:"post",label:"Posts",count:0},{value:"repost",label:"Reposts",count:0},{value:"quote",label:"Quotes",count:0},{value:"reply",label:"Replies",count:0}];return y.forEach(h=>{const _=h.post.thingType;let d=R.find(i=>i.value===_);d&&(d.count+=1)}),R}let c=re("all");function p(y){D(c,y.detail)}xe(()=>(ut(o()),e(c)),()=>{D(r,o().filter(y=>{const R=y.post.thingType;return e(c)==="all"||R===e(c)}))}),gt(),Ee();var k=Se(),M=he(k);{var T=y=>{var R=Ur();const h=Q(()=>v(o()));var _=a(R),d=a(_);s(_);var i=l(_,2),u=a(i);Fr(u,{get options(){return e(h)},get selected(){return e(c)},set selected(C){D(c,C)},$$events:{change:p},$$legacy:!0}),s(i);var f=l(i,2),m=l(a(f),2);Pe(m,1,()=>e(r),Ce,(C,g)=>{var x=Hr(),O=a(x),S=a(O),w=a(S),q=a(w,!0);s(w),s(S),s(O);var H=l(O,2),F=a(H),X=a(F),se=l(X);{var ee=oe=>{var V=Nr(),qe=a(V);s(V),z(()=>{N(V,"href",`https://bsky.app/profile/${e(g).post.interactedUser.handle??""}`),b(qe,`@${e(g).post.interactedUser.handle??""}`)}),$(oe,V)};W(se,oe=>{["reply","repost","quote"].includes(e(g).post.thingType)&&e(g).post.interactedUser&&oe(ee)})}s(F);var K=l(F,2),te=a(K,!0);s(K);var j=l(K,2);{var P=oe=>{var V=Or(),qe=a(V),Ye=a(qe);s(qe),s(V),z(()=>b(Ye,`+${e(g).post.embed.images.length??""} image${(e(g).post.embed.images.length>1?"s":"")??""}`)),$(oe,V)};W(j,oe=>{var V;(V=e(g).post.embed)!=null&&V.images&&oe(P)})}s(H);var A=l(H,2),I=a(A),B=l(a(I),2),G=a(B,!0);s(B),s(I);var E=l(I,2),ae=l(a(E),2),J=a(ae,!0);s(ae),s(E);var ne=l(E,2),fe=l(a(ne),2),_e=a(fe,!0);s(fe),s(ne);var ce=l(ne,2),ye=l(a(ce),2),le=a(ye,!0);s(ye),s(ce);var Z=l(ce,2),Y=l(a(Z),2),U=a(Y,!0);s(Y),s(Z),s(A),s(x),z((oe,V)=>{Ma(x,1,`post-row ${e(g).post.thingType??""}`,"svelte-1prvkto"),N(w,"href",oe),b(q,V),b(X,`${e(g).post.thingType??""} `),b(te,e(g).post.record.text),b(G,e(g).post.interactions),b(J,e(g).post.likeCount),b(_e,e(g).post.repostCount),b(le,e(g).post.replyCount),b(U,e(g).post.quoteCount)},[()=>us(e(g).post),()=>ba(e(g).post.thingCreatedAt)],Q),$(C,x)}),s(f),s(R),z(()=>b(d,`Most Recent ${o().length??""} Posts`)),$(y,R)};W(M,y=>{o().length>0&&y(T)})}$(n,k),Ie()}var Br=L('<div class="error-message svelte-su5k85"><p> </p></div>'),zr=L('<div class="progress-container svelte-su5k85"><div class="progress-bar svelte-su5k85"></div></div>'),Yr=L('<p class="search-message svelte-su5k85"> </p> <!>',1),Qr=L('<div class="load-more-container svelte-su5k85"><div class="load-more-header svelte-su5k85"><h3 class="load-more-title svelte-su5k85">Load More Posts</h3> <div class="current-stats svelte-su5k85"><span class="stats-count svelte-su5k85"> </span> posts loaded</div></div> <button class="load-more-btn svelte-su5k85"><!></button></div>'),Xr=L("<!> <!> <!> <!> <!> <!>",1),Gr=L('<div class="container svelte-su5k85"><div class="content svelte-su5k85"><button class="back-link svelte-su5k85">← Back to homepage</button> <h1 class="title svelte-su5k85"><a></a></h1> <!> <!></div></div>');function ol(n,t){Me(t,!1);let o=ke(t,"data",8)().handle,v=re(""),c=re(null),p=re([]),k=re(!0),M=re(null),T=3,y=re(null);const R=2e3;let h=re({current:0,total:T,posts:0});async function _(){if(o){D(k,!0),D(v,`Searching for ${o}...`),D(M,null),D(c,null),D(p,[]),D(y,null);try{if(D(c,await Oa(o)),e(c)){D(v,`Fetching posts for ${o}... (Batch 0 of ${T})`),D(h,{current:0,total:T,posts:0});const q=await Ba(o,T,(H,F,X)=>{D(h,{current:H,total:F,posts:X}),D(v,`Fetching posts for ${o}... (Batch ${H} of ${F}, ${X} posts so far)`)});D(p,q.feed),D(y,q.cursor||null)}D(v,"")}catch(w){const q=w instanceof Error&&w.message.match(/status (\d+)/);(q?parseInt(q[1]):null)===400?D(M,`The handle "${o}" could not be found on Bluesky`):D(M,w instanceof Error?w.message:"An error occurred fetching data"),D(v,"")}finally{D(k,!1)}}}async function d(){if(!(!o||!e(y)||e(k)||e(p).length>=R)){D(k,!0),D(v,`Fetching more posts for ${o}...`);try{D(h,{current:0,total:1,posts:e(p).length}),await new Promise(F=>setTimeout(F,500));const w=`${ht}/xrpc/app.bsky.feed.getAuthorFeed?actor=${o}&limit=100&cursor=${encodeURIComponent(e(y))}`,q=[...e(p)];D(h,{current:1,total:1,posts:e(p).length}),D(v,`Fetching more posts... (${e(p).length} posts so far)`);const H=await gs(o,e(y));if(H.feed&&H.feed.length>0){const F=R-q.length,X=H.feed.slice(0,F);q.push(...X),q.length<R&&H.cursor?D(y,H.cursor):D(y,null)}else D(y,null);D(p,q),D(v,"")}catch(w){D(M,w instanceof Error?w.message:"An error occurred fetching additional posts"),D(v,"")}finally{D(k,!1)}}}ds(()=>{_()}),Ee();var i=Gr(),u=a(i),f=a(u),m=l(f,2),C=a(m);C.textContent=xa,s(m);var g=l(m,2);{var x=w=>{var q=Br(),H=a(q),F=a(H);s(H),s(q),z(()=>b(F,`Error: ${e(M)??""}`)),$(w,q)};W(g,w=>{e(M)&&w(x)})}var O=l(g,2);{var S=w=>{var q=Xr(),H=he(q);Za(H,{get profile(){return e(c)}});var F=l(H,2);{var X=P=>{var A=Yr(),I=he(A),B=a(I,!0);s(I);var G=l(I,2);{var E=ae=>{var J=zr(),ne=a(J);s(J),z(()=>N(ne,"style",`width: ${e(h).current/e(h).total*100}%`)),$(ae,J)};W(G,ae=>{e(h).current>0&&ae(E)})}z(()=>b(B,e(v))),$(P,A)};W(F,P=>{e(v)&&P(X)})}var se=l(F,2);{var ee=P=>{var A=Qr(),I=a(A),B=l(a(I),2),G=a(B),E=a(G,!0);s(G),Ne(),s(B),s(I);var ae=l(I,2),J=a(ae);{var ne=_e=>{var ce=it("Maximum Posts Loaded (2,000)");$(_e,ce)},fe=_e=>{var ce=Se(),ye=he(ce);{var le=Y=>{var U=it("No More Posts Available");$(Y,U)},Z=Y=>{var U=it("Load More Posts");$(Y,U)};W(ye,Y=>{e(y)?Y(Z,!1):Y(le)},!0)}$(_e,ce)};W(J,_e=>{e(p).length>=R?_e(ne):_e(fe,!1)})}s(ae),s(A),z(()=>{b(E,e(p).length),ae.disabled=e(k)||!e(y)||e(p).length>=R}),Le("click",ae,d),$(P,A)};W(se,P=>{!e(k)&&e(p).length>0&&P(ee)})}var K=l(se,2);Tr(K,{get posts(){return e(p)},get profile(){return e(c)}});var te=l(K,2);Er(te,{get posts(){return e(p)},get profile(){return e(c)}});var j=l(te,2);Wr(j,{get posts(){return e(p)},get profile(){return e(c)}}),$(w,q)};W(O,w=>{e(c)&&w(S)})}s(u),s(i),z(w=>N(C,"href",w),[()=>ts("/")],Q),Le("click",f,()=>Ta(ts("/"))),$(n,i),Ie()}export{ol as component,il as universal};
